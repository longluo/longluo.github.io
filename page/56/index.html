<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><meta content=width=device-width name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.1.1" name=generator><link href=https://fonts.googleapis.com rel=preconnect><link href=https://cdnjs.cloudflare.com rel=preconnect><link href=https://www.longluo.me/assets/logo/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://www.longluo.me/assets/logo/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://www.longluo.me/assets/logo/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><meta content=n6mekvZa-QaR3EnDD-CzJymq7mGubpU7rvoGpKROHLE name=google-site-verification><meta content=6BFBD4DDDB3B6F4FDD26CF82BADDB931 name=msvalidate.01><meta content=a2ab49d952ea45f5 name=yandex-verification><meta content=www.longluo.me name=baidu-site-verification><link href=/css/main.css rel=stylesheet><link as=style href=https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext onload=this.rel='stylesheet' rel=preload><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css integrity=sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA= rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"www.longluo.me","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":5,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/config.min.js></script><meta content="A Curious Engineer" name=description><meta content=website property=og:type><meta content="Long Luo's Life Notes" property=og:title><meta content=https://www.longluo.me/page/56/index.html property=og:url><meta content="Long Luo's Life Notes" property=og:site_name><meta content="A Curious Engineer" property=og:description><meta content=zh_CN property=og:locale><meta content="Long Luo" property=article:author><meta content="longluo, Tech, Tech Blog, 技术博客, Personal Blog, 个人博客, Android, 安卓博客, 原创博客, Software Engineer, 软件工程师, Program, 编程, 程序员, 码农, Java, C, C++, Data Structures, 数据结构, Algorithm, 算法, Life" property=article:tag><meta content=summary name=twitter:card><link href=https://www.longluo.me/page/56/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/56/index.html","title":""}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Long Luo's Life Notes</title><script async src=https://www.googletagmanager.com/gtag/js?id=UA-46213499-2></script><script class=next-config data-name=google_analytics type=application/json>{"tracking_id":"UA-46213499-2","only_pageview":false,"measure_protocol_api_secret":null}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/analytics/google-analytics.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/analytics/baidu-analytics.min.js></script><script async src=https://hm.baidu.com/hm.js?a75fb5d0c0ef1e36c34b7f52bb7c48be></script><script async src=https://assets.growingio.com/2.1/gio.js></script><script class=next-config data-name=growingio_analytics type=application/json>"bc65befc551b6d70"</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/analytics/growingio.min.js></script><script>(function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "gz2vdkhgvh");</script><script class=next-config data-name=matomo type=application/json>{"enable":true,"server_url":"https://longluo.matomo.cloud/","site_id":1}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/analytics/matomo.min.js></script><script async data-host-url=longluo.me data-website-id=2a6d2bf9-2adf-474b-a292-84ca30206507 defer src=https://analytics.us.umami.is/script.js></script><script data-domain=longluo.me defer src=https://plausible.io/js/script.js></script><link href=https://waline.longluo.me/ rel=dns-prefetch><noscript><link href=/css/noscript.css rel=stylesheet></noscript><style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style><link title="Long Luo's Life Notes" href=/atom.xml rel=alternate type=application/atom+xml><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <h1 class=site-title>Long Luo's Life Notes</h1> <i class=logo-line></i> </a><p class=site-subtitle itemprop=description>每一天都是奇迹</div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=搜索 role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-works"><a href=/works rel=section><i class="fa fa-code fa-fw"></i>works</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>关于</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=搜索... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-overview-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt="Long Luo" class=site-author-image itemprop=image src=https://www.longluo.me/assets/avatar/sinc_3d_python.png><p class=site-author-name itemprop=name>Long Luo<div class=site-description itemprop=description>A Curious Engineer</div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>343</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>24</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>320</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/longluo" href=https://github.com/longluo target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="ZhiHu → http://www.zhihu.com/people/longluo" href=http://www.zhihu.com/people/longluo target=_blank><i class="fab fa-quora fa-fw"></i>ZhiHu</a> </span><span class=links-of-author-item> <a rel="noopener me" title="LinkedIn → https://www.linkedin.com/in/longluo/" href=https://www.linkedin.com/in/longluo/ target=_blank><i class="fa fa-linkedin fa-fw"></i>LinkedIn</a> </span><span class=links-of-author-item> <a rel="noopener me" title="E-Mail → mailto:luolong0226@163.com" href=mailto:luolong0226@163.com target=_blank><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span></div><div class="cc-license animated" itemprop=license><a class=cc-opacity href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh rel=noopener target=_blank><img alt="Creative Commons" src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg></a></div></div></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i> 链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=http://blog.csdn.net/tcpipstack rel=noopener target=_blank title=http://blog.csdn.net/tcpipstack>CSDN</a></ul></div></div></aside></div><div class="main-inner index posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2015/10/03/three-days-to-see/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2015/10/03/three-days-to-see/ itemprop=url>Three Days to See 假如给我三天光明</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2015-10-03 23:19:39" datetime=2015-10-03T23:19:39+08:00>2015-10-03</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-12-21 22:31:04" datetime=2023-12-21T22:31:04+08:00 itemprop=dateModified>2023-12-21</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Life/ itemprop=url rel=index><span itemprop=name>Life</span></a> </span> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=firestore-visitors-count></span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2015/10/03/three-days-to-see/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2015/10/03/three-days-to-see/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2015/10/03/three-days-to-see/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>27k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>25 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Helen Keller</em></strong><h1 id=i>I</h1><p>All of us have read thrilling stories in which the hero had only a limited and specified time to live. Sometimes it was as long as a year; sometimes as short as twenty-four hours. But always we were interested in discovering just how the doomed man chose to spend his last days or his last hours. I speak, of course, of free men who have a choice, not condemned criminals whose sphere of activities is strictly delimited .<p>我们所有人都曾读过些动人心弦的故事，讲述主人翁们余时不多的有限生命，或是仅余一年，或是仅余一日。其中最能引我们入胜的，往往是如此一个疑问：这些已被录入死神裁决书的人们，是如何度过他们最后的时日的？当然，我并非在说那些被严酷地限制着人身自由的犯人，这里我所要谈到的，是自由如我们这样，有着充分选择权的人们。<p>Such stories set us thinking, wondering what we should do under similar circumstances. What events, what experiences, what associations should we crowd into those last hours as mortal beings ? What happiness should we find in reviewing the past, what regrets?<p>这样的故事让我们思考：如果有一天，相同的情境里代入了我们自己，我们在生命仅剩的片断中该做些什么，想些什么？当我们回首过往，看见的又会是如何的幸福，如何的遗憾？<p>Sometimes I have thought it would be an excellent rule to live each day as if we should die tomorrow. Such an attitude would emphasize sharply the values of life. We should live each day with a gentleness, a vigor, and a keenness of appreciation which are often lost when time stretches before us in the constant panorama of more days and months and years to come. There are those, of course, who would adopt the Epicurean motto of “Eat, drink, and be merry,” but most people would be chastened by the certainty of impending death.<p>有时我会想，也许最好的生活方式便是将每一天当作自己的末日。用这样的态度去生活，生命的价值方可得以彰显。我们本应当纯良知恩、满怀激情地过好每一天，然而一日循着一日，一月接着一月，一年更似一年，这些品质往往被时间冲淡。当然也有人自得其乐于伊壁鸠鲁派 “人生得意须尽欢”的生活，但死亡的迫近往往能让大多数人惶惶恐恐不可终日。<p>In stories the doomed hero is usually saved at the last minute by some stroke of fortune, but almost always his sense of values is changed, he becomes more appreciative of the meaning of life and its permanent spiritual values. It has often been noted that those who live, or have lived, in the shadow of death bring a mellow sweetness to everything they do.<p>在故事中，主人翁通常会在命悬一刻时得到幸运女神的垂青，但他的价值观也总是因此而改变——生命的意义与其永生的精神价值将在他心中升华凝结。我们常注意到，那些过去曾经，或是如今正活在死亡阴影之下的人们，他们每做一件小事，都充盈着甜蜜的动力。<p>Most of us, however, take life for granted. We know that one day we must die, but usually we picture that day as far in the future. When we are in buoyant health, death is all but unimaginable. We seldom think of it. The days stretch out in an endless vista . So we go about our petty tasks, hardly aware of our listless attitude toward life.<p>然而，我们大多数人都将生命视作天经地义、理所应当。我们知道有一天我们必将溘然长逝，但我们觉得那一天是在遥远的未来！在我们年壮身强的日子里，死亡是不可想象的。我们也很少去思考它。时间无限地向前延展，我们做着这些那些琐琐碎碎的事，根本觉察不到我们对生活的冷漠。<p>The same lethargy, I am afraid, characterizes the use of all our faculties and senses. Only the deaf appreciate hearing, only the blind realize the manifold blessings that lie in sight. Particularly does this observation apply to those who have lost sight and hearing in adult life. But those who have never suffered impairment of sight or hearing seldom make the fullest use of these blessed faculties. Their eyes and ears take in all sights and sounds hazily, without concentration and with little appreciation. It is the same old story of not being grateful for what we have until we lose it, of not being conscious of health until we are ill.<p>恐怕当我们在利用自己的感官和能力之时，也是同样地懒惰。只有聋子才珍惜听觉，只有盲人才能够体会光明那无尽的美好。对于那些在成年之后才失去听觉或是视力的人们更是如此。那些从未在视觉和听觉方面感受过障碍的人们，往往很少充分利用自己这些天赐的珍贵能力。他们的眼睛和耳朵模糊地吸收着所见的事物和听到的声音，不集中注意力，也不心存感激。常言说，失去之后方知珍惜，久病卧床才知要强身健体，正是如此啊！<p>I have often thought it would be a blessing if each human being were stricken blind and deaf for a few days at some time during his early adult life. Darkness would make him more appreciative of sight; silence would teach him the joys of sound.<p>我常常会想，如果让一个刚刚成年的人盲上些日子，或是聋上些日子，这或许也是种恩赐。因为黑暗将使他更加珍惜光明，而一片死寂才更能让他体会到声音的可贵。<p>Now and then I have tested my seeing friends to discover what they see. Recently I was visited by a very good friend who had just returned from a long walk in the woods, and I asked her what she had observed. “Nothing in particular,” she replied. I might have been incredulous had I not been accustomed to such responses, for long ago I became convinced that the seeing see little.<p>时不时地，我会询问我那些有正常视力的朋友们，问他们看见了什么。最近，一位挚友从林中散步归来，前来探访我，我便问她看到了什么。“没什么特别的呀。”她答道。其实对这样的回答我早已习惯，因为长时间以来，我已慢慢知道，视力正常的人看不见什么东西。<p>How was it possible, I asked myself, to walk for an hour through the woods and see nothing worthy of note? I who cannot see find hundreds of things to interest me through mere touch. I feel the delicate symmetry of a leaf. I pass my hands lovingly about the smooth skin of a silver birch, or the rough, shaggy bark of a pine. In the spring I touch the branches of trees hopefully in search of a bud, the first sign of awakening Nature after her winter’s sleep. I feel the delightful, velvety texture of a flower, and discover its remarkable convolutions; and something of the miracle of Nature is revealed to me. Occasionally, if I am very fortunate, I place my hand gently on a small tree and feel the happy quiver of a bird in full song. I am delighted to have the cool waters of a brook rush thought my open finger. To me a lush carpet of pine needles or spongy grass is more welcome than the most luxurious Persian rug. To me the pageant of seasons is a thrilling and unending drama, the action of which streams through my finger tips.<p>我问自己，以常人的视力享受了一个小时的林中漫步而没有发现任何值得看的事物，这怎么可能？我这个看不见东西的盲人，尚能通过触摸发觉到成百上千充满趣味的事物。我曾感受叶子精巧的对称，我也曾细抚白桦柔滑的皮肤和松树粗糙不平的表皮。春日里我渴望在树干上发现一簇嫩芽，因为那预示着久经寒冬的大自然正从长眠中醒来。我感受着花瓣们令人惊喜的天鹅绒般的触感，发觉它们特别的弧线，领略大自然的鬼斧神工。偶尔，当我将双手放在小树上的时候，还能幸运地感受到高歌的鸟儿身体那愉悦的颤抖。当清凉的小溪水从我指间流过，我更是满心欢喜。苍翠的松针或柔嫩的青草铺就的郁郁葱葱的地毯，比奢美华丽的波斯地毯还要让我倾心。对我而言，一年四季壮美的变幻就是一出动人心弦、永不会落幕的戏剧，情节如小溪流的水一般，顺着我指尖缓缓流过。<p>At times my heart cries out with longing to see all these things. If I can get so much pleasure from mere touch, how much more beauty must be revealed by sight. Yet, those who have eyes apparently see little. The panorama of color and action which fills the world is taken for granted. It is human, perhaps, to appreciate little that which we have and to long for that which we have not, but it is a great pity that in the world of light the gift of sight is used only as a mere conveniences rather than as a means of adding fullness to life.<p>有时我是如此渴望目睹这一切。仅凭触摸便能得到如此多的欢乐，若是能够亲眼望见，又将是多么地美好。然而视力正常的人们却什么也看不见，世界的五光十色、光怪陆离对他们来说只是理所应当的存在。也许人类的悲哀便在于此，拥有的东西不去珍惜，对于得不到的却永远渴望。在触得到光明的世界里，上天赋予的视力并非为已经很完美的生活锦上添花的手段，而只是一个便利，这真是太遗憾了。<p>If I were the president of a university I should establish a compulsory course in “How to Use Your Eyes”. The professor would try to show his pupils how they could add joy to their lives by really seeing what passes unnoticed before them. He would try to awake their dormant and sluggish faculties.<p>如果我是大学校长，我一定会开设必修课“如何使用你的眼睛”。教授们应该教导学生如何唤醒自己因沉睡已久而变得迟钝的感官，来抓住那些曾经无声流逝却不被重视的美好，从而使自己的生活更加幸福。<!--noindex--><div class=post-button><a class=btn href=/blog/2015/10/03/three-days-to-see/#more rel=contents> 阅读全文 » </a></div><!--/noindex--></div><footer class=post-footer><div class=post-eof></div></footer></article></div><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2015/04/21/my-necessary-app-list/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2015/04/21/my-necessary-app-list/ itemprop=url>我的必备App清单</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2015-04-21 23:53:35" datetime=2015-04-21T23:53:35+08:00>2015-04-21</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-11-14 22:24:40" datetime=2023-11-14T22:24:40+08:00 itemprop=dateModified>2023-11-14</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Tools/ itemprop=url rel=index><span itemprop=name>Tools</span></a> </span> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=firestore-visitors-count></span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2015/04/21/my-necessary-app-list/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2015/04/21/my-necessary-app-list/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2015/04/21/my-necessary-app-list/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>1.2k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>1 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>今天重新刷了下手机，结果之前的备份都是2个月前的，刷完机我就想了下，我手机<strong><em>必备App</em></strong>是哪些呢？<p>列出了下面这张必备App清单：<h1 id=新闻>新闻</h1><ol type=1><li>ZAKER: 查看新闻，根据你的爱好订阅文章<li>新浪微博：作为微博的<strong>重度用户</strong>，微博的媒体属性很强，大于其社交属性。我的不少朋友已经告别微博了，但是我还是喜欢微博。与其在微信上与熟悉的人聊天，不如在微博上和陌生人交流。<li>网易新闻：交互做的很好，163评论常有亮点。</ol><h1 id=sns社交>SNS·社交</h1><ol type=1><li>QQ： 不用说。超级App，超好的用户体验，本土化，非常强大。<li>微信：不用说。腾讯系的很多产品都极大的提高了我们的工作效率和生活效率，一定要用好他们。<li>微博：我用微博主要是学习和了解别人的很多观点，还能够结交很多朋友。<li>LINE：主要是微博和微信的熟人太多，有些东西不好在朋友圈里吐槽，但LINE没有一个熟人，所以可以很方便的在朋友圈里吐槽发泄:-)<li>LinkedIn：工作商务类的，也有很多干货。</ol><h1 id=阅读电子书>阅读·电子书</h1><ol type=1><li>知乎日报：打发碎片时间，同时了解很多各行各业的知识。<li>知乎：重度知乎用户，可以看到更大的世界，拓展你的思维界限。<li>多看阅读：电子书，在阅读体验我个人觉得是最好的，书的资源很多而且也不是很贵。</ol><h1 id=理财>理财</h1><ol type=1><li>支付宝：不用说。<li>招行手机App：主要用的都是招行卡。<li>招行信用卡：平常能刷信用卡的地方绝对使用信用卡。</ol><h1 id=消费购物>消费·购物</h1><ol type=1><li>手机淘宝：Shopping<li>京东：买书，购物等<li>美团：看电影，吃饭，订餐等O2O</ol><h1 id=股票证券类>股票证券类</h1><ol type=1><li>广发证券：目前炒股的账户在广发。<li>自选股：腾讯系出品的一款炒股软件，美中不足的是交易不支持广发证券。<li>东方财富：炒股和市场行情。</ol><h1 id=交通出行>交通出行</h1><ol type=1><li>百度地图：国内最好的地图产品，对于我重度地图爱好者是真爱。<li>Google地图：在国内被百度地图秒杀，但国外的话就是Google地图了。<li>爱帮公交：公交地铁线路图，还可以离线查询。<li>12306：火车出行必备</ol><h1 id=电子邮件>电子邮件</h1><ol type=1><li>QQ邮箱：很好用的一个电子邮件客户端，同时对Gmail的支持性很好。<li>邮箱大师：网易出品的一个邮箱客户端，这2个都可以。</ol><h1 id=时间管理便签>时间管理·便签</h1><ol type=1><li>FitMemo: 非常轻量级的一款便签类，美中不足的是好久没有更新了，不支持云同步功能。<li>Any.Do：支持多平台同步，非常好的时间管理App，用了就知道。</ol><!--noindex--><div class=post-button><a class=btn href=/blog/2015/04/21/my-necessary-app-list/#more rel=contents> 阅读全文 » </a></div><!--/noindex--></div><footer class=post-footer><div class=post-eof></div></footer></article></div><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2015/04/12/count-character-frequency-of-a-string/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2015/04/12/count-character-frequency-of-a-string/ itemprop=url>一道迅雷面试题：求出一个字符串中每个字母出现的次数</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2015-04-12 00:59:54" datetime=2015-04-12T00:59:54+08:00>2015-04-12</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2024-02-29 21:06:49" datetime=2024-02-29T21:06:49+08:00 itemprop=dateModified>2024-02-29</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Data-Structures-and-Algorithms/ itemprop=url rel=index><span itemprop=name>Data Structures and Algorithms</span></a> </span> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=firestore-visitors-count></span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2015/04/12/count-character-frequency-of-a-string/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2015/04/12/count-character-frequency-of-a-string/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2015/04/12/count-character-frequency-of-a-string/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>3k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>3 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>上次在<strong>迅雷</strong>面试的时候，遇到了一个算法题，题目是：<blockquote><p>有一个很长很长的字符串，全部都是由大写字母组成，要求求出其中每个字母在这个字符串中出现的次数。 不允许使用STL中的方法。</blockquote><p>当时拿到这个题目，我首先想到了以下几个方法：<ol type=1><li><strong>穷举法</strong>，一个个比较，最后算出每个字母出现的次数，这种方法可行，但不轻巧与优雅。<li>每个字符与’A’想减，会得到一个<strong>值</strong>，统计下这个值出现次数，和方法1类似。(事后回顾这个已经很接近了，但是还是没能完美解决。)</ol><p>其实这个题目，事后回顾起来，是比较简单的，但遗憾的是，当时未能在规定时间内解答出来，导致未能通过面试，拿到Offer，在此将这个题目记录下来。<p>重新认真解答这个题目。<h1 id=how>How?</h1><p>其实这个题目有一个很简单的解决方法，新建一个数组，大小为<strong>26</strong>，将字符串中每个字符都与<code>'A'</code>相减，得到的就是每个字母在数组中的<strong>元素下标值</strong>，我们最后得到的这个数组就是每个字母在这个字符串中出现的次数。<p>根据以上分析，可以写出如下代码：<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> com.algorithm.alphabetSort;</span><br><span class=line></span><br><span class=line><span class=comment>/**</span></span><br><span class=line><span class=comment> * 有一个很长的字符串，其中都是一些字母，求其中每个字母出现的次数(大小写区分)。</span></span><br><span class=line><span class=comment> * </span></span><br><span class=line><span class=comment> * <span class=doctag>@author</span> luolong</span></span><br><span class=line><span class=comment> * <span class=doctag>@date</span>: 2015-04-12 00:54:17</span></span><br><span class=line><span class=comment> * </span></span><br><span class=line><span class=comment> */</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">AlphabetSort</span> {</span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>static</span> <span class=type>String</span> <span class=variable>str</span> <span class=operator>=</span> <span class=string>"AWQEYIOAHDHDKKLDLAHFHJALAFHANNAFGJCXCKBZCQIEOPADHAZBZVCFGCSHDJCKCLDMDHFAKAIIAYQO"</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>static</span> <span class=type>int</span>[] outArray = <span class=keyword>new</span> <span class="title class_">int</span>[<span class=number>26</span>];</span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">main</span><span class=params>(String[] args)</span> {</span><br><span class=line>        AlphabetSortString(str);</span><br><span class=line>        printSortArray(outArray);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">AlphabetSortString</span><span class=params>(String str)</span> {</span><br><span class=line>        <span class=type>char</span> cTemp;</span><br><span class=line></span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i < str.length(); i++) {</span><br><span class=line>            cTemp = str.charAt(i);</span><br><span class=line>            </span><br><span class=line>            outArray[cTemp - <span class=string>'A'</span>]++;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">printSortArray</span><span class=params>(<span class=type>int</span>[] arr)</span> {</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i < arr.length; i++) {</span><br><span class=line>            <span class=type>char</span> <span class=variable>c</span> <span class=operator>=</span> (<span class=type>char</span>) (<span class=string>'A'</span> + i);</span><br><span class=line>            System.out.print(<span class=string>""</span> + c + <span class=string>"="</span> + arr[i] + <span class=string>" "</span>);</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>}</span><br></pre></table></figure><h1 id=引申与扩展一>引申与扩展一</h1><p>如果字符串不仅仅是大写字母，而是大小写字母都存在的情况下，那应该如何写呢？<p>其实也很简单，如下所示：<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line><span class=keyword>if</span> (cTemp >= <span class=string>'A'</span> && cTemp <= <span class=string>'Z'</span>) {</span><br><span class=line>	<span class=comment>/**</span></span><br><span class=line><span class=comment>	* 大写字母</span></span><br><span class=line><span class=comment>	*/</span></span><br><span class=line>	outArray[cTemp - <span class=string>'A'</span>]++;</span><br><span class=line>} <span class=keyword>else</span> <span class=keyword>if</span> (cTemp >= <span class=string>'a'</span> && cTemp <= <span class=string>'z'</span>) {</span><br><span class=line>	<span class=comment>/**</span></span><br><span class=line><span class=comment>	* 小写字母</span></span><br><span class=line><span class=comment>	*/</span></span><br><span class=line>	outArray[cTemp - <span class=string>'a'</span> + <span class=number>26</span>]++;</span><br><span class=line>} <span class=keyword>else</span> {</span><br><span class=line>   </span><br><span class=line>}</span><br></pre></table></figure><!--noindex--><div class=post-button><a class=btn href=/blog/2015/04/12/count-character-frequency-of-a-string/#more rel=contents> 阅读全文 » </a></div><!--/noindex--></div><footer class=post-footer><div class=post-eof></div></footer></article></div><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2015/04/09/concurrency-interview-problem/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2015/04/09/concurrency-interview-problem/ itemprop=url>Google多线程面试题: 4个线程向4个文件里写入数据, 每个线程只能写一个值</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2015-04-09 21:04:10" datetime=2015-04-09T21:04:10+08:00>2015-04-09</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-11-14 22:24:40" datetime=2023-11-14T22:24:40+08:00 itemprop=dateModified>2023-11-14</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Data-Structures-and-Algorithms/ itemprop=url rel=index><span itemprop=name>Data Structures and Algorithms</span></a> </span> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=firestore-visitors-count></span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2015/04/09/concurrency-interview-problem/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2015/04/09/concurrency-interview-problem/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2015/04/09/concurrency-interview-problem/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>5.8k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>5 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>最近在学习<code>Java多线程</code>时，遇到了一个下面的笔试题，题目如下：<figure class="highlight txt"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line>编写一个程序，程序会启动4个线程，向4个文件A，B，C，D里写入数据，每个线程只能写一个值。 </span><br><span class=line>	线程A：只写A</span><br><span class=line>	线程B：只写B </span><br><span class=line>	线程C：只写C </span><br><span class=line>	线程D：只写D </span><br><span class=line></span><br><span class=line>4个文件A，B，C，D。 </span><br><span class=line>	</span><br><span class=line>程序运行起来，4个文件的写入结果如下： </span><br><span class=line>	A：ABCDABCD... </span><br><span class=line>	B：BCDABCDA... </span><br><span class=line>	C：CDABCDAB... </span><br><span class=line>	D：DABCDABC...</span><br></pre></table></figure><p>网上搜索了下，好像还是一个<strong><em>Google笔试题</em></strong>，这个问题涉及到的知识点有：<strong>多线程</strong>, <strong>并发</strong>, <strong>锁</strong>, <strong>线程间通信</strong>。<h1 id=个人分析过程>个人分析过程：</h1><ol type=1><li>创建4个线程；<li>每个线程在输出时都需要加锁；<li>操作文件的代码要加锁；<li>一个线程完成之后，通知下一个要执行的线程；</ol><p>根据以上分析，可以写出如下代码：<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br><span class=line>205</span><br><span class=line>206</span><br><span class=line>207</span><br><span class=line>208</span><br><span class=line>209</span><br><span class=line>210</span><br><span class=line>211</span><br><span class=line>212</span><br><span class=line>213</span><br><span class=line>214</span><br><span class=line>215</span><br><span class=line>216</span><br><span class=line>217</span><br><span class=line>218</span><br><span class=line>219</span><br><span class=line>220</span><br><span class=line>221</span><br><span class=line>222</span><br><span class=line>223</span><br><span class=line>224</span><br><span class=line>225</span><br><span class=line>226</span><br><span class=line>227</span><br><span class=line>228</span><br><span class=line>229</span><br><span class=line>230</span><br><span class=line>231</span><br><span class=line>232</span><br><span class=line>233</span><br><span class=line>234</span><br><span class=line>235</span><br><span class=line>236</span><br><span class=line>237</span><br><span class=line>238</span><br><span class=line>239</span><br><span class=line>240</span><br><span class=line>241</span><br><span class=line>242</span><br><span class=line>243</span><br><span class=line>244</span><br><span class=line>245</span><br><span class=line>246</span><br><span class=line>247</span><br><span class=line>248</span><br><span class=line>249</span><br><span class=line>250</span><br><span class=line>251</span><br><span class=line>252</span><br></pre><td class=code><pre><span class=line><span class=keyword>package</span> com.imlongluo.Practise;</span><br><span class=line></span><br><span class=line><span class=keyword>import</span> java.io.BufferedWriter;</span><br><span class=line><span class=keyword>import</span> java.io.File;</span><br><span class=line><span class=keyword>import</span> java.io.FileOutputStream;</span><br><span class=line><span class=keyword>import</span> java.io.OutputStreamWriter;</span><br><span class=line><span class=keyword>import</span> java.util.concurrent.locks.Condition;</span><br><span class=line><span class=keyword>import</span> java.util.concurrent.locks.Lock;</span><br><span class=line><span class=keyword>import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>class</span> <span class="title class_">Practise</span> {</span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">main</span><span class=params>(String[] args)</span> {</span><br><span class=line></span><br><span class=line>        <span class=keyword>final</span> <span class=type>Task</span> <span class=variable>task</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">Task</span>();</span><br><span class=line>        </span><br><span class=line>        <span class=comment>/** 创建4个线程，同时启动 */</span></span><br><span class=line>        <span class=comment>/**</span></span><br><span class=line><span class=comment>         * Thread A</span></span><br><span class=line><span class=comment>         */</span></span><br><span class=line>        <span class=keyword>new</span> <span class="title class_">Thread</span>(<span class=keyword>new</span> <span class="title class_">Runnable</span>() {</span><br><span class=line></span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">run</span><span class=params>()</span> {</span><br><span class=line>                <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i < <span class=number>10</span>; i++) {</span><br><span class=line>                    task.outputA();</span><br><span class=line>                }</span><br><span class=line>            }</span><br><span class=line>        }, <span class=string>" Thread A"</span>).start();</span><br><span class=line></span><br><span class=line>        <span class=comment>/**</span></span><br><span class=line><span class=comment>         * Thread B</span></span><br><span class=line><span class=comment>         */</span></span><br><span class=line>        <span class=keyword>new</span> <span class="title class_">Thread</span>(<span class=keyword>new</span> <span class="title class_">Runnable</span>() {</span><br><span class=line></span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">run</span><span class=params>()</span> {</span><br><span class=line>                <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i < <span class=number>10</span>; i++) {</span><br><span class=line>                    task.outputB();</span><br><span class=line>                }</span><br><span class=line>            }</span><br><span class=line>        }, <span class=string>"Thread B"</span>).start();</span><br><span class=line></span><br><span class=line>        <span class=comment>/**</span></span><br><span class=line><span class=comment>         * Thread C</span></span><br><span class=line><span class=comment>         */</span></span><br><span class=line>        <span class=keyword>new</span> <span class="title class_">Thread</span>(<span class=keyword>new</span> <span class="title class_">Runnable</span>() {</span><br><span class=line></span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">run</span><span class=params>()</span> {</span><br><span class=line>                <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i < <span class=number>10</span>; i++) {</span><br><span class=line>                    task.outputC();</span><br><span class=line>                }</span><br><span class=line>            }</span><br><span class=line>        }, <span class=string>"Thread C"</span>).start();</span><br><span class=line></span><br><span class=line>        <span class=comment>/**</span></span><br><span class=line><span class=comment>         * Thread D</span></span><br><span class=line><span class=comment>         */</span></span><br><span class=line>        <span class=keyword>new</span> <span class="title class_">Thread</span>(<span class=keyword>new</span> <span class="title class_">Runnable</span>() {</span><br><span class=line></span><br><span class=line>            <span class=meta>@Override</span></span><br><span class=line>            <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">run</span><span class=params>()</span> {</span><br><span class=line>                <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i < <span class=number>10</span>; i++) {</span><br><span class=line>                    task.outputD();</span><br><span class=line>                }</span><br><span class=line>            }</span><br><span class=line>        }, <span class=string>"Thread D"</span>).start();</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=comment>/**</span></span><br><span class=line><span class=comment>    任务类</span></span><br><span class=line><span class=comment>    */</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>class</span> <span class="title class_">Task</span> {</span><br><span class=line>        <span class=comment>/**</span></span><br><span class=line><span class=comment>        创建一个Lock锁对象</span></span><br><span class=line><span class=comment>        */</span></span><br><span class=line>        <span class=keyword>private</span> <span class=type>Lock</span> <span class=variable>lock</span> <span class=operator>=</span> <span class=keyword>new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class=line></span><br><span class=line>        <span class=keyword>private</span> <span class=type>BufferedWriter</span> <span class=variable>bw1</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line>        <span class=keyword>private</span> <span class=type>BufferedWriter</span> <span class=variable>bw2</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line>        <span class=keyword>private</span> <span class=type>BufferedWriter</span> <span class=variable>bw3</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line>        <span class=keyword>private</span> <span class=type>BufferedWriter</span> <span class=variable>bw4</span> <span class=operator>=</span> <span class=literal>null</span>;</span><br><span class=line></span><br><span class=line>        <span class=keyword>private</span> <span class=type>int</span> <span class=variable>ctl</span> <span class=operator>=</span> <span class=number>0</span>;</span><br><span class=line></span><br><span class=line>        <span class=comment>/**</span></span><br><span class=line><span class=comment>         * Condition: 线程条件  </span></span><br><span class=line><span class=comment>         */</span></span><br><span class=line>        <span class=keyword>private</span> <span class=type>Condition</span> <span class=variable>cond1</span> <span class=operator>=</span> lock.newCondition();</span><br><span class=line>        <span class=keyword>private</span> <span class=type>Condition</span> <span class=variable>cond2</span> <span class=operator>=</span> lock.newCondition();</span><br><span class=line>        <span class=keyword>private</span> <span class=type>Condition</span> <span class=variable>cond3</span> <span class=operator>=</span> lock.newCondition();</span><br><span class=line>        <span class=keyword>private</span> <span class=type>Condition</span> <span class=variable>cond4</span> <span class=operator>=</span> lock.newCondition();</span><br><span class=line></span><br><span class=line>        <span class=keyword>private</span> <span class=type>boolean</span>[] outputThisRound = { <span class=literal>false</span>, <span class=literal>true</span>, <span class=literal>true</span>, <span class=literal>true</span> };</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class="title function_">Task</span><span class=params>()</span> {</span><br><span class=line>            <span class=keyword>try</span> {</span><br><span class=line>                bw1 = <span class=keyword>new</span> <span class="title class_">BufferedWriter</span>(<span class=keyword>new</span> <span class="title class_">OutputStreamWriter</span>(<span class=keyword>new</span> <span class="title class_">FileOutputStream</span>(<span class=keyword>new</span> <span class="title class_">File</span>(</span><br><span class=line>                        <span class=string>"/Users/luolong/Code/Android/workspace/MultiThreads/A.txt"</span>))));</span><br><span class=line>                bw2 = <span class=keyword>new</span> <span class="title class_">BufferedWriter</span>(<span class=keyword>new</span> <span class="title class_">OutputStreamWriter</span>(<span class=keyword>new</span> <span class="title class_">FileOutputStream</span>(<span class=keyword>new</span> <span class="title class_">File</span>(</span><br><span class=line>                        <span class=string>"/Users/luolong/Code/Android/workspace/MultiThreads/B.txt"</span>))));</span><br><span class=line>                bw3 = <span class=keyword>new</span> <span class="title class_">BufferedWriter</span>(<span class=keyword>new</span> <span class="title class_">OutputStreamWriter</span>(<span class=keyword>new</span> <span class="title class_">FileOutputStream</span>(<span class=keyword>new</span> <span class="title class_">File</span>(</span><br><span class=line>                        <span class=string>"/Users/luolong/Code/Android/workspace/MultiThreads/C.txt"</span>))));</span><br><span class=line>                bw4 = <span class=keyword>new</span> <span class="title class_">BufferedWriter</span>(<span class=keyword>new</span> <span class="title class_">OutputStreamWriter</span>(<span class=keyword>new</span> <span class="title class_">FileOutputStream</span>(<span class=keyword>new</span> <span class="title class_">File</span>(</span><br><span class=line>                        <span class=string>"/Users/luolong/Code/Android/workspace/MultiThreads/D.txt"</span>))));</span><br><span class=line>            } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>                e.printStackTrace();</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">outputA</span><span class=params>()</span> {</span><br><span class=line></span><br><span class=line>            lock.lock();</span><br><span class=line></span><br><span class=line>            <span class=keyword>try</span> {</span><br><span class=line>                <span class=keyword>while</span> (outputThisRound[<span class=number>0</span>]) {</span><br><span class=line>                    System.out.println(<span class=string>"outputA begin to await!"</span>);</span><br><span class=line>                    cond1.await(); <span class=comment>//阻塞A线程 </span></span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>                <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>0</span>) {</span><br><span class=line>                    bw1.write(<span class=string>"A"</span>);</span><br><span class=line>                    bw1.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>1</span>) {</span><br><span class=line>                    bw4.write(<span class=string>"A"</span>);</span><br><span class=line>                    bw4.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>2</span>) {</span><br><span class=line>                    bw3.write(<span class=string>"A"</span>);</span><br><span class=line>                    bw3.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>3</span>) {</span><br><span class=line>                    bw2.write(<span class=string>"A"</span>);</span><br><span class=line>                    bw2.flush();</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>                outputThisRound[<span class=number>0</span>] = <span class=literal>true</span>;</span><br><span class=line>                outputThisRound[<span class=number>1</span>] = <span class=literal>false</span>;</span><br><span class=line></span><br><span class=line>                System.out.println(<span class=string>"outputA signal outputB!"</span>);</span><br><span class=line>                cond2.signal(); <span class=comment>//唤醒B线程</span></span><br><span class=line>            } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>                e.printStackTrace();</span><br><span class=line>            } <span class=keyword>finally</span> {</span><br><span class=line>                lock.unlock();</span><br><span class=line>            }</span><br><span class=line></span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">outputB</span><span class=params>()</span> {</span><br><span class=line></span><br><span class=line>            lock.lock();</span><br><span class=line></span><br><span class=line>            <span class=keyword>try</span> {</span><br><span class=line>                <span class=keyword>while</span> (outputThisRound[<span class=number>1</span>]) {</span><br><span class=line>                    System.out.println(<span class=string>"outputB begin to await!"</span>);</span><br><span class=line>                    cond2.await();</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>                <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>0</span>) {</span><br><span class=line>                    bw2.write(<span class=string>"B"</span>);</span><br><span class=line>                    bw2.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>1</span>) {</span><br><span class=line>                    bw1.write(<span class=string>"B"</span>);</span><br><span class=line>                    bw1.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>2</span>) {</span><br><span class=line>                    bw4.write(<span class=string>"B"</span>);</span><br><span class=line>                    bw4.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>3</span>) {</span><br><span class=line>                    bw3.write(<span class=string>"B"</span>);</span><br><span class=line>                    bw3.flush();</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>                outputThisRound[<span class=number>1</span>] = <span class=literal>true</span>;</span><br><span class=line>                outputThisRound[<span class=number>2</span>] = <span class=literal>false</span>;</span><br><span class=line>                System.out.println(<span class=string>"outputB signal outputC!"</span>);</span><br><span class=line>                cond3.signal();</span><br><span class=line>            } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>                e.printStackTrace();</span><br><span class=line>            } <span class=keyword>finally</span> {</span><br><span class=line>                lock.unlock();</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">outputC</span><span class=params>()</span> {</span><br><span class=line>            lock.lock();</span><br><span class=line>            <span class=keyword>try</span> {</span><br><span class=line>                <span class=keyword>while</span> (outputThisRound[<span class=number>2</span>]) {</span><br><span class=line>                    System.out.println(<span class=string>"outputC begin to await!"</span>);</span><br><span class=line>                    cond3.await();</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>                <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>0</span>) {</span><br><span class=line>                    bw3.write(<span class=string>"C"</span>);</span><br><span class=line>                    bw3.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>1</span>) {</span><br><span class=line>                    bw2.write(<span class=string>"C"</span>);</span><br><span class=line>                    bw2.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>2</span>) {</span><br><span class=line>                    bw1.write(<span class=string>"C"</span>);</span><br><span class=line>                    bw1.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>3</span>) {</span><br><span class=line>                    bw4.write(<span class=string>"C"</span>);</span><br><span class=line>                    bw4.flush();</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>                outputThisRound[<span class=number>2</span>] = <span class=literal>true</span>;</span><br><span class=line>                outputThisRound[<span class=number>3</span>] = <span class=literal>false</span>;</span><br><span class=line>                System.out.println(<span class=string>"outputC signal outputD!"</span>);</span><br><span class=line>                cond4.signal();</span><br><span class=line>            } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>                e.printStackTrace();</span><br><span class=line>            } <span class=keyword>finally</span> {</span><br><span class=line>                lock.unlock();</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>public</span> <span class=keyword>void</span> <span class="title function_">outputD</span><span class=params>()</span> {</span><br><span class=line>            lock.lock();</span><br><span class=line></span><br><span class=line>            <span class=keyword>try</span> {</span><br><span class=line>                <span class=keyword>while</span> (outputThisRound[<span class=number>3</span>]) {</span><br><span class=line>                    System.out.println(<span class=string>"outputD begin to await!"</span>);</span><br><span class=line>                    cond4.await();</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>                <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>0</span>) {</span><br><span class=line>                    bw4.write(<span class=string>"D"</span>);</span><br><span class=line>                    bw4.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>1</span>) {</span><br><span class=line>                    bw3.write(<span class=string>"D"</span>);</span><br><span class=line>                    bw3.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>2</span>) {</span><br><span class=line>                    bw2.write(<span class=string>"D"</span>);</span><br><span class=line>                    bw2.flush();</span><br><span class=line>                } <span class=keyword>else</span> <span class=keyword>if</span> (ctl % <span class=number>4</span> == <span class=number>3</span>) {</span><br><span class=line>                    bw1.write(<span class=string>"D"</span>);</span><br><span class=line>                    bw1.flush();</span><br><span class=line>                }</span><br><span class=line></span><br><span class=line>                outputThisRound[<span class=number>3</span>] = <span class=literal>true</span>;</span><br><span class=line>                outputThisRound[<span class=number>0</span>] = <span class=literal>false</span>;</span><br><span class=line>                ctl++;</span><br><span class=line>                System.out.println(<span class=string>"outputD signal outputA!"</span>);</span><br><span class=line>                cond1.signal();</span><br><span class=line>            } <span class=keyword>catch</span> (Exception e) {</span><br><span class=line>                e.printStackTrace();</span><br><span class=line>            } <span class=keyword>finally</span> {</span><br><span class=line>                lock.unlock();</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><p>以上。<p>如果大家还有其他更好的方法，欢迎一起讨论:-)<p><strong><em>Created by Long Luo at 2015-04-09 22:14:02 <span class=citation data-cites=Shenzhen>@Shenzhen</span>, China.</em></strong> <strong><em>Completed By Long Luo at 2015-04-09 23:46:29 <span class=citation data-cites=Shenzhen>@Shenzhen</span>, China.</em></strong></div><footer class=post-footer><div class=post-eof></div></footer></article></div><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2015/04/06/how-many-methods-to-climb-a-n-steps-stairs/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2015/04/06/how-many-methods-to-climb-a-n-steps-stairs/ itemprop=url>面试算法题:爬楼梯，N级楼梯有多少种走法？</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2015-04-06 22:20:50" datetime=2015-04-06T22:20:50+08:00>2015-04-06</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-11-14 22:24:40" datetime=2023-11-14T22:24:40+08:00 itemprop=dateModified>2023-11-14</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Data-Structures-and-Algorithms/ itemprop=url rel=index><span itemprop=name>Data Structures and Algorithms</span></a> </span> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=firestore-visitors-count></span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2015/04/06/how-many-methods-to-climb-a-n-steps-stairs/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2015/04/06/how-many-methods-to-climb-a-n-steps-stairs/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2015/04/06/how-many-methods-to-climb-a-n-steps-stairs/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>2k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>2 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>最近去面试时，在一家小公司面试时，公司小BOSS给我出了一道算法题：<blockquote><p>一个人爬楼梯，一步可以迈一级，二级，三级台阶，如果楼梯有 <span class="math inline">\(N\)</span> 级，要求编写程序，求总共有多少种走法。</blockquote><p>这个问题应该是一个很老的题目了，用中学数学来说，就是一个<strong><em>排列组合</em></strong>问题。当时拿到这个题目之后，首先想到使用<strong>递归</strong>的思想去解决这个问题：<blockquote><p>N级楼梯问题可以划分为：<span class="math inline">\(N-1\)</span> 级楼梯，<span class="math inline">\(N-2\)</span> 级楼梯，<span class="math inline">\(N-3\)</span> 级楼梯的走法之和。</blockquote><p>先计算下0，1，2，3及楼梯有多少种走法：<figure class="highlight txt"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>1 --> 1</span><br><span class=line>2 --> 11 2</span><br><span class=line>3 --> 111 12 21 3</span><br></pre></table></figure><p>那么，根据以上的分析很容易写出如下代码：<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">countNumber</span><span class=params>(<span class=type>int</span> stepsNum)</span> {</span><br><span class=line>    <span class=type>int</span> <span class=variable>sum</span> <span class=operator>=</span> <span class=number>0</span>;</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (stepsNum == <span class=number>0</span>) {</span><br><span class=line>        <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (stepsNum == <span class=number>1</span>) {</span><br><span class=line>        <span class=keyword>return</span> <span class=number>1</span>;</span><br><span class=line>    } <span class=keyword>else</span> <span class=keyword>if</span> (stepsNum == <span class=number>2</span>) {</span><br><span class=line>        <span class=keyword>return</span> <span class=number>2</span>;</span><br><span class=line>    } <span class=keyword>else</span> <span class=keyword>if</span> (stepsNum == <span class=number>3</span>) {</span><br><span class=line>        <span class=keyword>return</span> <span class=number>4</span>;</span><br><span class=line>    } <span class=keyword>else</span> <span class=keyword>if</span> (stepsNum > <span class=number>3</span>) {</span><br><span class=line>        <span class=keyword>return</span> countNumber(stepsNum - <span class=number>3</span>) + countNumber(stepsNum - <span class=number>2</span>)</span><br><span class=line>                + countNumber(stepsNum - <span class=number>1</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>return</span> sum;</span><br><span class=line>}</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">main</span><span class=params>(String[] args)</span> {</span><br><span class=line></span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i <= <span class=number>10</span>; i++) {</span><br><span class=line>        System.out.println(<span class=string>"楼梯台阶数:"</span> + i + <span class=string>", 走法有:"</span> + countNumber(i));</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><p>再看看输出：<figure class="highlight txt"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line>楼梯台阶数:0, 走法有:0</span><br><span class=line>楼梯台阶数:1, 走法有:1</span><br><span class=line>楼梯台阶数:2, 走法有:2</span><br><span class=line>楼梯台阶数:3, 走法有:4</span><br><span class=line>楼梯台阶数:4, 走法有:7</span><br><span class=line>楼梯台阶数:5, 走法有:13</span><br><span class=line>楼梯台阶数:6, 走法有:24</span><br><span class=line>楼梯台阶数:7, 走法有:44</span><br><span class=line>楼梯台阶数:8, 走法有:81</span><br><span class=line>楼梯台阶数:9, 走法有:149</span><br></pre></table></figure><h1 id=如果求解具体全部走法呢>如果求解具体全部走法呢？</h1><p>仅仅算出有多少种走法是很容易的，如果更近一步呢？基于这个基础，如何输出<strong>具体的走法</strong>呢？<p>我们可以使用<code>Stack</code>数据结构和<strong>递归</strong>的思想去完成这个题目：<code>Stack&LTT></code>用于保存每一步的走法。<p>代码如下所示：<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br></pre><td class=code><pre><span class=line><span class=comment>/**</span></span><br><span class=line><span class=comment> * 一个人爬楼梯，一步可以迈一级，二级，三级台阶，如果楼梯有N级，编写程序，输出所有走法。</span></span><br><span class=line><span class=comment> * </span></span><br><span class=line><span class=comment> * <span class=doctag>@param</span> args</span></span><br><span class=line><span class=comment> */</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">main</span><span class=params>(String[] args)</span> {</span><br><span class=line>    Stack&LTInteger> stt = <span class=keyword>new</span> <span class="title class_">Stack</span>&LTInteger>();</span><br><span class=line>    </span><br><span class=line>    buileT(stt, <span class=number>3</span>);</span><br><span class=line>}</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">buileT</span><span class=params>(Stack&LTInteger> stt, <span class=type>int</span> N)</span> {</span><br><span class=line>    <span class=keyword>if</span> (N >= <span class=number>1</span>) {</span><br><span class=line>        stt.push(<span class=number>1</span>);</span><br><span class=line>        buileT(stt, N - <span class=number>1</span>);</span><br><span class=line>        stt.pop();</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>if</span> (N >= <span class=number>2</span>) {</span><br><span class=line>        stt.push(<span class=number>2</span>);</span><br><span class=line>        buileT(stt, N - <span class=number>2</span>);</span><br><span class=line>        stt.pop();</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>if</span> (N >= <span class=number>3</span>) {</span><br><span class=line>        stt.push(<span class=number>3</span>);</span><br><span class=line>        buileT(stt, N - <span class=number>3</span>);</span><br><span class=line>        stt.pop();</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>if</span> (N == <span class=number>0</span>) {</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> i : stt) {</span><br><span class=line>            System.out.print(<span class=string>"Step:"</span> + i + <span class=string>"-->"</span>);</span><br><span class=line>        }</span><br><span class=line>        System.out.println(<span class=string>"完成"</span>);</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><p>以上。<p>———- Updated at 2022.04.21 ———-<p>这篇文章写于2015年，其实这个题就是 Leetcode <a href=https://leetcode.cn/problems/n-th-tribonacci-number/ rel=noopener target=_blank>1137. 第 N 个泰波那契数</a> ，是 <a href=https://leetcode.cn/problems/climbing-stairs/ rel=noopener target=_blank>70. 爬楼梯</a> 的变体，解决方法可参考 <a href=http://www.longluo.me/blog/2021/07/24/9-Algorithms-for-nth-Fibonacci-Number/>9种求斐波那契数(Fibonacci Numbers)的算法</a> 。<p><strong><em>Created by Long Luo at 2015-04-08 00:40:12 <span class=citation data-cites=Shenzhen>@Shenzhen</span>, China.</em></strong> <strong><em>Completed By Long Luo at 2015-04-08 18:15:38 <span class=citation data-cites=Shenzhen>@Shenzhen</span>, China.</em></strong> <strong><em>Updated By Long Luo at 2022年4月21日 14点51分 <span class=citation data-cites=Shenzhen>@Shenzhen</span>, China.</em></strong></div><footer class=post-footer><div class=post-eof></div></footer></article></div><nav class=pagination><a class="extend prev" aria-label=上一页 href=/page/55/ rel=prev title=上一页><i class="fa fa-angle-left"></i></a><a class=page-number href=/>1</a><span class=space>…</span><a class=page-number href=/page/55/>55</a><span class="page-number current">56</span><a class=page-number href=/page/57/>57</a><span class=space>…</span><a class=page-number href=/page/69/>69</a><a class="extend next" aria-label=下一页 href=/page/57/ rel=next title=下一页><i class="fa fa-angle-right"></i></a></nav></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2013 – <span itemprop=copyrightYear>2024</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Long Luo</span></div><div class=wordcount><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-chart-line"></i> </span> <span title=站点总字数>1.5m</span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span> <span title=站点阅读时长>22:18</span> </span></div><div class=busuanzi-count><span class=post-meta-item id=busuanzi_container_site_uv> <span class=post-meta-item-icon> <i class="fa fa-user"></i> </span> <span class=site-uv title=总访客量> <span id=busuanzi_value_site_uv></span> </span> </span><span class=post-meta-item id=busuanzi_container_site_pv> <span class=post-meta-item-icon> <i class="fa fa-eye"></i> </span> <span class=site-pv title=总访问量> <span id=busuanzi_value_site_pv></span> </span> </span></div><div class=powered-by>由 <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/pisces/ rel=noopener target=_blank>NexT.Pisces</a> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label=返回顶部 class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><a class="book-mark-link book-mark-link-fixed" role=button></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin=anonymous integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/comments.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/utils.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/motion.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/sidebar.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/next-boot.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/bookmark.min.js></script><script crossorigin=anonymous integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/search/local-search.min.js></script><script async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script crossorigin=anonymous integrity=sha256-GNS0PNk7BKL3ESum0TEubZtkybvbBMfkV3uZr7137Mk= src=https://cdnjs.cloudflare.com/ajax/libs/firebase/10.11.1/firebase-app-compat.js></script><script crossorigin=anonymous integrity=sha256-e8eevSHRq9ExY9rGvp5MoYeiGniYwJq0djypMLEqCjs= src=https://cdnjs.cloudflare.com/ajax/libs/firebase/10.11.1/firebase-firestore-compat.js></script><script class=next-config data-name=firestore type=application/json>{"enable":true,"collection":"articles","apiKey":"AIzaSyDKvv2ddHfcTTpl3YC2ekCD4Zct-KzoYuc","projectId":"longluome-43fa6"}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/statistics/firestore.min.js></script><script class=next-config data-name=enableMath type=application/json>true</script><script class=next-config data-name=mathjax type=application/json>{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/math/mathjax.min.js></script><script class=next-config data-name=waline type=application/json>{"lang":"zh-CN","enable":true,"serverURL":"https://waline.longluo.me/","cssUrl":"https://unpkg.com/@waline/client@2.15.8/dist/waline.css","commentCount":true,"pageview":true,"libUrl":"https://unpkg.com/@waline/client@2.15.8/dist/waline.js","locale":{"placeholder":"欢迎大家的留言和评论！(评论只需要填昵称即可。) Welcome to comment"},"emoji":["https://unpkg.com/@waline/emojis@1.0.1/qq"],"meta":["nick","mail","link"],"requiredMeta":[["nick"]],"wordLimit":0,"pageSize":10,"el":"#waline","comment":true,"path":"/page/56/"}</script><link href=https://unpkg.com/@waline/client@2.15.8/dist/waline.css rel=stylesheet><script>document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});</script>