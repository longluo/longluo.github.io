<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><meta content=width=device-width name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.1.1" name=generator><link href=https://fonts.googleapis.com rel=preconnect><link href=https://cdnjs.cloudflare.com rel=preconnect><link href=https://www.longluo.me/assets/logo/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://www.longluo.me/assets/logo/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://www.longluo.me/assets/logo/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><meta content=n6mekvZa-QaR3EnDD-CzJymq7mGubpU7rvoGpKROHLE name=google-site-verification><meta content=6BFBD4DDDB3B6F4FDD26CF82BADDB931 name=msvalidate.01><meta content=a2ab49d952ea45f5 name=yandex-verification><meta content=www.longluo.me name=baidu-site-verification><link href=/css/main.css rel=stylesheet><link as=style href=https://fonts.googleapis.com/css2?family=Noto+Serif+SC:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext onload=this.rel='stylesheet' rel=preload><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css integrity=sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E= rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"www.longluo.me","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":5,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/config.min.js></script><meta content="A Curious Engineer" name=description><meta content=website property=og:type><meta content="Long Luo's Life Notes" property=og:title><meta content=https://www.longluo.me/page/40/index.html property=og:url><meta content="Long Luo's Life Notes" property=og:site_name><meta content="A Curious Engineer" property=og:description><meta content=zh_CN property=og:locale><meta content="Long Luo" property=article:author><meta content="longluo, Tech, Tech Blog, 技术博客, Personal Blog, 个人博客, Blogger, 博客, Math, 数学, Physics, 物理, Software Engineer, 软件工程师, Program, 编程, 程序员, 码农, Java, C, C++, Data Structures, 数据结构, Algorithm, 算法, Life, 生活," property=article:tag><meta content=summary name=twitter:card><link href=https://www.longluo.me/page/40/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/40/index.html","title":""}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Long Luo's Life Notes</title><script async src=https://www.googletagmanager.com/gtag/js?id=UA-46213499-2></script><script class=next-config data-name=google_analytics type=application/json>{"tracking_id":"UA-46213499-2","only_pageview":false,"measure_protocol_api_secret":null}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/analytics/google-analytics.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/analytics/baidu-analytics.min.js></script><script async src=https://hm.baidu.com/hm.js?a75fb5d0c0ef1e36c34b7f52bb7c48be></script><script async src=https://assets.growingio.com/2.1/gio.js></script><script class=next-config data-name=growingio_analytics type=application/json>"bc65befc551b6d70"</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/analytics/growingio.min.js></script><script>(function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "gz2vdkhgvh");</script><script async data-host-url=longluo.me data-website-id=2a6d2bf9-2adf-474b-a292-84ca30206507 defer src=https://analytics.us.umami.is/script.js></script><script data-domain=longluo.me defer src=https://plausible.io/js/script.js></script><link href=https://waline.longluo.me/ rel=dns-prefetch><noscript><link href=/css/noscript.css rel=stylesheet></noscript><style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style><link title="Long Luo's Life Notes" href=/atom.xml rel=alternate type=application/atom+xml><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <h1 class=site-title>Long Luo's Life Notes</h1> <i class=logo-line></i> </a><p class=site-subtitle itemprop=description>每一天都是奇迹</div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=搜索 role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-works"><a href=/works rel=section><i class="fa fa-code fa-fw"></i>works</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>关于</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=搜索... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-overview-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt="Long Luo" class=site-author-image itemprop=image src=https://www.longluo.me/assets/avatar/sinc_3d_python.png><p class=site-author-name itemprop=name>Long Luo<div class=site-description itemprop=description>A Curious Engineer</div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>340</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>24</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>324</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/longluo" href=https://github.com/longluo target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="ZhiHu → http://www.zhihu.com/people/longluo" href=http://www.zhihu.com/people/longluo target=_blank><i class="fab fa-quora fa-fw"></i>ZhiHu</a> </span><span class=links-of-author-item> <a rel="noopener me" title="LinkedIn → https://www.linkedin.com/in/longluo/" href=https://www.linkedin.com/in/longluo/ target=_blank><i class="fa fa-linkedin fa-fw"></i>LinkedIn</a> </span><span class=links-of-author-item> <a rel="noopener me" title="E-Mail → mailto:luolong0226@163.com" href=mailto:luolong0226@163.com target=_blank><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span></div><div class="cc-license animated" itemprop=license><a class=cc-opacity href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh rel=noopener target=_blank><img alt="Creative Commons" src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg></a></div></div></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i> 链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=http://blog.csdn.net/tcpipstack rel=noopener target=_blank title=http://blog.csdn.net/tcpipstack>My CSDN</a><li class=links-of-blogroll-item><a href=https://www.ruanyifeng.com/home.html rel=noopener target=_blank title=https://www.ruanyifeng.com/home.html>阮一峰老师</a><li class=links-of-blogroll-item><a href=https://hutusi.com/ rel=noopener target=_blank title=https://hutusi.com/>胡涂说</a><li class=links-of-blogroll-item><a href=https://www.qtmuniao.com/ rel=noopener target=_blank title=https://www.qtmuniao.com/>木鸟杂记</a><li class=links-of-blogroll-item><a href=https://yufan.me/ rel=noopener target=_blank title=https://yufan.me/>雨帆</a></ul></div></div></aside></div><div class="main-inner index posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2019/10/26/bruges/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2019/10/26/bruges/ itemprop=url>假装游欧洲之Bruges</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2019-10-26 23:10:32" datetime=2019-10-26T23:10:32+08:00>2019-10-26</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-11-14 22:24:40" datetime=2023-11-14T22:24:40+08:00 itemprop=dateModified>2023-11-14</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Travel/ itemprop=url rel=index><span itemprop=name>Travel</span></a> </span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2019/10/26/bruges/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2019/10/26/bruges/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2019/10/26/bruges/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>265</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>1 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>建筑是凝固的音乐，斑驳的外墙演绎着历史的旋律。<p>布鲁日是一座被时间静止的美丽小城。漫步在布鲁日的小巷中，脚踏着青石板路，仿佛走入了中世纪。满眼是砖红色屋顶，哥特式的长窗，高高伫立的钟楼，还有墙壁上随处可见的洛可可画作，你依然能感受到当年布鲁日的繁荣和富庶。<p>布鲁日是一座被运河环绕的水城，曾经是欧洲贸易的中心，是当时全世界最富有的城市之一。整个欧洲的货物都在这里汇集。富裕起来的商人们重塑了这座城市，建造了一栋栋流传至今的教堂，市政厅，钟楼…<figure><img alt="A Water City" src=https://github.com/AppUnion/DataBank/blob/master/images/blog/bruges/Brugge_water.jpg?raw=true><figcaption aria-hidden=true><em>A Water City</em></figcaption></figure><figure><img alt="Street View" src=https://github.com/AppUnion/DataBank/blob/master/images/blog/bruges/bruges_streetview.jpg?raw=true><figcaption aria-hidden=true>Street View</figcaption></figure><figure><img alt="Town Hall" src=https://github.com/AppUnion/DataBank/blob/master/images/blog/bruges/belgium-bruges-town-hall.jpg?raw=true><figcaption aria-hidden=true>Town Hall</figcaption></figure><figure><img alt=Buildings src=https://github.com/AppUnion/DataBank/blob/master/images/blog/bruges/Scenic-cityscape-with-canal-and-buildings-in-Bruges.jpg?raw=true><figcaption aria-hidden=true>Buildings</figcaption></figure></div><footer class=post-footer><div class=post-eof></div></footer></article></div><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2019/09/20/the-algorithm-of-large-number-operations/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2019/09/20/the-algorithm-of-large-number-operations/ itemprop=url>超大数字的四则运算是如何实现的呢？</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2019-09-20 01:32:43" datetime=2019-09-20T01:32:43+08:00>2019-09-20</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-11-14 22:24:40" datetime=2023-11-14T22:24:40+08:00 itemprop=dateModified>2023-11-14</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Data-Structures-and-Algorithms/ itemprop=url rel=index><span itemprop=name>Data Structures and Algorithms</span></a> </span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2019/09/20/the-algorithm-of-large-number-operations/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2019/09/20/the-algorithm-of-large-number-operations/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2019/09/20/the-algorithm-of-large-number-operations/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>5.5k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>5 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>众所周知，计算机系统从 <span class="math inline">\(16\)</span> 位发展到 <span class="math inline">\(32\)</span> 位，再从 <span class="math inline">\(32\)</span> 位发展到 <span class="math inline">\(64\)</span> 位，与此同时不同的数据类型也随着系统的位数增大而增大。早期的操作系统是 <span class="math inline">\(16\)</span> 位系统，<code>int</code>用<code>2字节</code>表示，范围是<code>-32768~32767</code>，<code>long</code>用<code>4字节</code>表示，范围是<code>-2147483648~2147483647</code>；后来发展到 <span class="math inline">\(32\)</span> 位操作系统，<code>int</code>用<code>4字节</code>表示，与<code>long</code>相同。<p>目前的操作系统已发展到 <span class="math inline">\(64\)</span> 位操作系统，但因程序编译工艺的不同，两者表现出不同的差别：<ul><li><span class="math inline">\(32\)</span> 位编译系统：int占四字节，与long相同。<li><span class="math inline">\(64\)</span> 位编译系统：int占四字节，long占8字节，long数据范围变为：<span class="math inline">\(-2^63~2^63-1\)</span></ul><p>具体在标准中，并没有规定long一定要比int长，也没有规定short要比int短，只是规定了长整型至少和整型一样长，整型至少和短整型一样长。这个规则同样适用于浮点型long double至少和double一样长，double至少和float一样长。至于如何实现要看编译器厂商。<p>下表所展示的是Java的8种基本数据类型的详细数据：<table><thead><tr><th>基本类型<th>大小<th>最小值<th>最大值<th>包装器类型<th>默认值<tbody><tr><td>boolean<td>/<td>/<td>/<td>Boolean<td>false<tr><td>char<td>2<td>Unicode 0<td>Unicode 2^16-1<td>Character<td>‘u0000’<tr><td>byte<td>1<td>-128<td>127<td>Byte<td>0<tr><td>short<td>2<td>-2^15<td>+2^15-1<td>Short<td>0<tr><td>int<td>4<td>-2^31<td>+2^31-1<td>Integer<td>0<tr><td>long<td>8<td>-2^63<td>+2^63-1<td>Long<td>0<tr><td>float<td>4<td>IEEE754<td>IEEE754<td>Float<td>0<tr><td>double<td>8<td>IEEE754<td>IEEE754<td>Double<td>0</table><p>从上述表格中可以看出，普通工作生活中所涉及的数字都不会超过int所能表示的范围，而超过<code>long long</code>类型则少之又少。但是具体到一些行业或者科研中，比如天文，石油开采等，经常需要和天文数字进行打交道。举例来说，<span class="math inline">\(50!\)</span>，<span class="math inline">\(10^20\)</span> 这种阶乘或者指数函数轻而易举就突破最大所能表示的范围。<p>如何表示这些超大数字以及对其进行数学运算呢？<h1 id=大数字如何表示>大数字如何表示？</h1><p>首先需要解决的问题就是如何表示，用数据类型是不可能了，那么我们应该怎么做呢？<p>很容易想到的就是将超大数字拆分为一个个位进行展示，存储这些位的值就可以了。至于怎么存，可以使用string, 也可以使用list, array等。这里为了方便，我们使用string来说明及展示。 例子：<figure class="highlight cpp"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>string number = <span class=string>"3377733333332222"</span>;</span><br></pre></table></figure><p><p>解决了展示问题，下面我们来展示如何对超大数字进行数学运算：<h1 id=加法add>加法(Add)</h1><p>让我们回到小学课堂，重温我们学习加法的第一课。回想我们是如何做加法的呢？<figure class="highlight text"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>Input  : str1 = "3333311111111111", </span><br><span class=line>		 str2 =   "44422222221111"</span><br><span class=line>Output :         3377733333332222</span><br></pre></table></figure><p>很明显，我们是从低位开始，按位相加，直至最高位。<p>那么实现大数字的加法就可以很简单的分成3步： 1. 翻转每个string； 2. 从第 <span class="math inline">\(0\)</span> 位开始依次相加到相对小的string，每位的数字是 <span class="math inline">\(sum mod 10\)</span> ，如果有进位则进位为 <span class="math inline">\(sum / 10\)</span>； 3. 对得到的结果进行翻转。<p>我们直接看实现吧：<figure class="highlight cpp"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br></pre><td class=code><pre><span class=line><span class=function>string <span class=title>sum_of_large_number</span><span class=params>(string num1, string num2)</span> </span>{</span><br><span class=line>    <span class=keyword>if</span> (num1.<span class=built_in>length</span>() > num2.<span class=built_in>length</span>()) {</span><br><span class=line>        <span class=built_in>swap</span>(num1, num2);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=type>int</span> len1 = num1.<span class=built_in>length</span>();</span><br><span class=line>    <span class=type>int</span> len2 = num2.<span class=built_in>length</span>();</span><br><span class=line>    <span class=built_in>reverse</span>(num1.<span class=built_in>begin</span>(), num1.<span class=built_in>end</span>());</span><br><span class=line>    <span class=built_in>reverse</span>(num2.<span class=built_in>begin</span>(), num2.<span class=built_in>end</span>());</span><br><span class=line></span><br><span class=line>    string result = <span class=string>""</span>;</span><br><span class=line>    <span class=type>int</span> carry = <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = <span class=number>0</span>; i < len1; i++) {</span><br><span class=line>        <span class=type>int</span> sum = (num1.<span class=built_in>at</span>(i) - <span class=string>'0'</span>) + (num2.<span class=built_in>at</span>(i) - <span class=string>'0'</span>) + carry;</span><br><span class=line>        result.<span class=built_in>push_back</span>(sum % <span class=number>10</span> + <span class=string>'0'</span>);</span><br><span class=line>        carry = sum / <span class=number>10</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> i = len1; i < len2; i++) {</span><br><span class=line>        <span class=type>int</span> sum = num2.<span class=built_in>at</span>(i) - <span class=string>'0'</span> + carry;</span><br><span class=line>        result.<span class=built_in>push_back</span>(sum % <span class=number>10</span> + <span class=string>'0'</span>);</span><br><span class=line>        carry = sum / <span class=number>10</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (carry) {</span><br><span class=line>        result.<span class=built_in>push_back</span>(carry + <span class=string>'0'</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=built_in>reverse</span>(result.<span class=built_in>begin</span>(), result.<span class=built_in>end</span>());</span><br><span class=line>    <span class=keyword>return</span> result;</span><br><span class=line>}</span><br></pre></table></figure><!--noindex--><div class=post-button><a class=btn href=/blog/2019/09/20/the-algorithm-of-large-number-operations/#more rel=contents> 阅读全文 » </a></div><!--/noindex--></div><footer class=post-footer><div class=post-eof></div></footer></article></div><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2019/09/08/the-trip-to-chimelong-ocean-kingdom-resort/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2019/09/08/the-trip-to-chimelong-ocean-kingdom-resort/ itemprop=url>A Memorable Trip to Chimelong Ocean Kingdom in Zhuhai</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2019-09-08 23:55:56" datetime=2019-09-08T23:55:56+08:00>2019-09-08</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-11-14 22:24:40" datetime=2023-11-14T22:24:40+08:00 itemprop=dateModified>2023-11-14</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Travel/ itemprop=url rel=index><span itemprop=name>Travel</span></a> </span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2019/09/08/the-trip-to-chimelong-ocean-kingdom-resort/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2019/09/08/the-trip-to-chimelong-ocean-kingdom-resort/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2019/09/08/the-trip-to-chimelong-ocean-kingdom-resort/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>1.9k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>2 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>Do you remember the first time going to somewhere that you enjoyed a lot? Well I remember my first time at <a href=https://www.chimelong.com/zh/oceankingdom/ rel=noopener target=_blank>Chimelong Ocean Kingdom</a>. To be honest this was my first time going to Chimelong Resort. I know what you’re probably thinking right now “wow! He hasn’t been to the before!”.<p>As part of our annual company team-building activity, we embarked on a day journey to Chimelong Ocean Kingdom in Zhuhai. This extraordinary adventure park is known to house one of the world’s largest aquariums, making it a must-see attraction for marine life enthusiasts like myself.<p>The highlight of the aquarium was the whale shark, a magnificent creature stretching over ten meters in length. It was truly awe-inspiring to witness such a gigantic, graceful creature up close. The aquarium was also teeming with an array of other aquatic life forms, each one more fascinating than the last.<p>For the adrenaline junkies among us, the park offered a variety of thrilling rides. The roller coasters were particularly exhilarating, their high-speed twists and turns providing a rush of excitement that left us all breathless and eager for more.<p>But the fun didn’t stop at thrill rides and marine life. The park was also home to an assortment of animals from the colder regions of the world. We saw penguins waddling around, Arctic wolves prowling, Arctic foxes darting about, and Arctic bears lumbering in their enclosures. Each animal was a sight to behold and added to the overall charm of the park.<p>Perhaps one of my favorite sections of the park was the Beluga whale and dolphin exhibit. The grace and intelligence of these creatures were captivating. The jellyfish exhibit was another unforgettable experience. Their delicate, luminescent bodies floating in the water was like witnessing an underwater ballet of lights.<p>In conclusion, our trip to Chimelong Ocean Kingdom was nothing short of spectacular. For a day and a half, we immersed ourselves in a world of fun, thrill, and discovery. It was a joy that transcended the usual office environment, making this team-building activity truly unforgettable. I returned home with a heart full of happiness and a camera full of memories, looking forward to the next adventure.</div><footer class=post-footer><div class=post-eof></div></footer></article></div><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2019/06/21/strassens-matrix-multiplication-algorithm/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2019/06/21/strassens-matrix-multiplication-algorithm/ itemprop=url>5分钟掌握矩阵乘法的Strassen算法</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2019-06-21 22:27:04" datetime=2019-06-21T22:27:04+08:00>2019-06-21</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-11-14 22:24:40" datetime=2023-11-14T22:24:40+08:00 itemprop=dateModified>2023-11-14</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Data-Structures-and-Algorithms/ itemprop=url rel=index><span itemprop=name>Data Structures and Algorithms</span></a> </span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2019/06/21/strassens-matrix-multiplication-algorithm/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2019/06/21/strassens-matrix-multiplication-algorithm/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2019/06/21/strassens-matrix-multiplication-algorithm/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>6.4k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>6 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>机器学习中需要训练大量数据，涉及大量复杂运算，例如卷积、矩阵等。这些复杂运算不仅多，而且每次计算的数据量很大，如果能针对这些运算进行优化，可以大幅提高性能。<h1 id=一矩阵乘法>一、矩阵乘法</h1><p>假设 <span class="math inline">\(A\)</span> 为 <span class="math inline">\(m \times p\)</span> 的矩阵，<span class="math inline">\(B\)</span> 为 <span class="math inline">\(p \times n\)</span> 的矩阵，那么称 <span class="math inline">\(m \times n\)</span> 的矩阵 <span class="math inline">\(C\)</span> 为矩阵 <span class="math inline">\(A\)</span> 与 <span class="math inline">\(B\)</span> 的乘积，记作 <span class="math inline">\(C = AB\)</span>，称为矩阵积（<span class="math inline">\(\textit{Matrix Product}\)</span>）。<p>其中矩阵 <span class="math inline">\(C\)</span> 中的第 <span class="math inline">\(i\)</span> 行第 <span class="math inline">\(j\)</span> 列元素可以表示为：<p><span class="math display">\[ (AB)_{ij} = \sum_{k=1}^{p}{a_{ik}b_{kj}} = a_{i1}b_{1j} + a_{i2}b_{2j} + \cdots + a_{ip}b_{pj} \]</span><p>如下图所示：<figure><img alt="@Figure 1. Matrix Multiplication | center" src=https://github.com/AppUnion/DataBank/blob/master/images/blog/strassen/mat6.gif?raw=true><figcaption aria-hidden=true><span class=citation data-cites=Figure>@Figure</span> 1. Matrix Multiplication | center</figcaption></figure><p>假如在矩阵 <span class="math inline">\(A\)</span> 和矩阵 <span class="math inline">\(B\)</span> 中，<span class="math inline">\(m=p=n=N\)</span>，那么完成 <span class="math inline">\(C=AB\)</span> 需要多少次乘法呢？<ol type=1><li>对于每一个行向量 <span class="math inline">\(r\)</span> ，总共有 <span class="math inline">\(N\)</span> 行；<li>对于每一个列向量 <span class="math inline">\(c\)</span> ，总共有 <span class="math inline">\(N\)</span> 列；<li>计算它们的内积，总共有 <span class="math inline">\(N\)</span> 次乘法计算。</ol><p>综合可以看出，矩阵乘法的算法复杂度是：<span class="math inline">\(O(N^3)\)</span>。<h1 id=二strassen算法>二、Strassen算法</h1><p>那么有没有比 <span class="math inline">\(O(N^{3})\)</span> 更快的算法呢？<p>1969年，Volker Strassen 提出了第一个算法时间复杂度低于 <span class="math inline">\(O(N^{3})\)</span> 矩阵乘法算法，算法复杂度为 <span class="math inline">\(O(n^{log_{2}^{7}})=O(n^{2.807})\)</span> 。从下图可知，<span class="math inline">\(\textit{Strassen}\)</span> 算法只有在对于维数比较大的矩阵( <span class="math inline">\(N > 300\)</span> ) ，性能上才有很大的优势，可以减少很多乘法计算。<figure><img alt="@Figure 2. x^3 vs. x^2.807 | center" src=https://github.com/AppUnion/DataBank/blob/master/images/blog/strassen/matrixmulti_strassen.jpg?raw=true><figcaption aria-hidden=true><span class=citation data-cites=Figure>@Figure</span> 2. x^3 vs. x^2.807 | center</figcaption></figure><p><span class="math inline">\(\textit{Strassen}\)</span> 算法证明了矩阵乘法存在时间复杂度低于 <span class="math inline">\(O(N^{3})\)</span> 的算法的存在，后续学者不断研究发现新的更快的算法，截止目前时间复杂度最低的矩阵乘法算法是 <a href=https://www-auth.cs.wisc.edu/lists/theory-reading/2009-December/pdfmN6UVeUiJ3.pdf rel=noopener target=_blank>Coppersmith-Winograd</a> 方法的一种扩展方法，其算法复杂度为 <span class="math inline">\(O(n^{2.375})\)</span> 。<h1 id=三strassen原理详解>三、Strassen原理详解</h1><p>假设矩阵 <span class="math inline">\(A\)</span> 和矩阵 <span class="math inline">\(B\)</span> 都是 <span class="math inline">\(N \times N (N = 2^{n})\)</span> 的方矩阵，求 <span class="math inline">\(C = AB\)</span> ，如下所示：<p><span class="math display">\[ \begin{aligned} A = \left [\begin{matrix} A_{11} & A_{12} \\ A_{21} & A_{22} \end{matrix} \right] \\ B = \left [\begin{matrix} B_{11} & B_{12} \\ B_{21} & B_{22} \\ \end{matrix} \right] \\ C = \left [\begin{matrix} C_{11} & C_{12} \\ C_{21} & C_{22} \\ \end{matrix} \right] \end{aligned} \]</span><p>其中<p><span class="math display">\[ \begin{bmatrix} C_{11} & C_{12} \\ C_{21} & C_{22} \end{bmatrix} = \begin{bmatrix} A_{11} & A_{12} \\ A_{21} & A_{22} \end{bmatrix} \cdot \begin{bmatrix} B_{11} & B_{12} \\ B_{21} & B_{22} \end{bmatrix} \]</span><p>矩阵 <span class="math inline">\(C\)</span> 可以通过下列公式求出：<p><span class="math display">\[ \begin{aligned} C_{11} = A_{11} \cdot B_{11} + A_{12} \cdot B_{21} \\ C_{12} = A_{11} \cdot B_{12} + A_{22} \cdot B_{21} \\ C_{21} = A_{21} \cdot B_{11} + A_{22} \cdot B_{21} \\ C_{22} = A_{21} \cdot B_{12} + A_{22} \cdot B_{22} \\ \end{aligned} \]</span><p>从上述公式我们可以得出，计算 <span class="math inline">\(2\)</span> 个 <span class="math inline">\(n \times n\)</span> 的矩阵相乘需要 <span class="math inline">\(2\)</span> 个 <span class="math inline">\(\frac{n}{2} \times \frac{n}{2}\)</span> 的矩阵 <span class="math inline">\(8\)</span> 次乘法和 <span class="math inline">\(4\)</span> 次加法。<p>我们使用 <span class="math inline">\(T(n)\)</span> 表示 <span class="math inline">\(n \times n\)</span> 矩阵乘法的时间复杂度，那么我们可以根据上面的分解得到下面的递推公式：<p><span class="math display">\[ T(n) = 8 \times T(\frac{n}{2}) + O(n^{2}) \]</span><p>其中： 1. <span class="math inline">\(8T(\frac{n}{2})\)</span> 表示 <span class="math inline">\(8\)</span> 次矩阵乘法，而且相乘的矩阵规模降到了 <span class="math inline">\(\frac{n}{2}\)</span>。 2. <span class="math inline">\(O(n^{2})\)</span> 表示 <span class="math inline">\(4\)</span> 次矩阵加法的时间复杂度以及合并矩阵 <span class="math inline">\(C\)</span> 的时间复杂度。<p>最终可计算得到 <span class="math inline">\(T(n)=O(n^{log_{2}^{8}})=O(n^{3})\)</span> 。<p>可以看出每次递归操作都需要 <span class="math inline">\(8\)</span> 次矩阵相乘，而这正是瓶颈的来源。相比加法，矩阵乘法是非常慢的，于是我们想到能不能减少矩阵相乘的次数呢？<p><strong><em>答案是当然可以！！！</em></strong><p><span class="math inline">\(\textit{Strassen}\)</span> 算法正是从这个角度出发，实现了降低算法复杂度！<!--noindex--><div class=post-button><a class=btn href=/blog/2019/06/21/strassens-matrix-multiplication-algorithm/#more rel=contents> 阅读全文 » </a></div><!--/noindex--></div><footer class=post-footer><div class=post-eof></div></footer></article></div><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article><link href=https://www.longluo.me/blog/2019/05/27/leetcode-factorial-trailing-zeroes/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="undefined | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h2 itemprop="name headline" class=post-title><a class=post-title-link href=/blog/2019/05/27/leetcode-factorial-trailing-zeroes/ itemprop=url>[Leetcode][172. 阶乘后的零] 3种方法：暴力大数，计算5的个数，对数时间复杂度</a></h2><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2019-05-27 23:52:17" datetime=2019-05-27T23:52:17+08:00>2019-05-27</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2024-10-26 17:45:44" datetime=2024-10-26T17:45:44+08:00 itemprop=dateModified>2024-10-26</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Leetcode/ itemprop=url rel=index><span itemprop=name>Leetcode</span></a> </span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2019/05/27/leetcode-factorial-trailing-zeroes/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2019/05/27/leetcode-factorial-trailing-zeroes/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2019/05/27/leetcode-factorial-trailing-zeroes/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>1.9k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>2 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p><a href=https://leetcode.cn/problems/factorial-trailing-zeroes/ rel=noopener target=_blank>Leetcode 172. 阶乘后的零</a> 题解：<h1 id=方法一用大数暴力求解并计算末尾0的数量>方法一：用大数暴力求解并计算末尾0的数量</h1><p>因为 <span class="math inline">\(n!\)</span> 得到的数字会非常大，所以需要使用<code>BigInteger</code>，得到结果之后，再计算末尾 <span class="math inline">\(0\)</span> 的数量。<figure class="highlight txt"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br></pre><td class=code><pre><span class=line>import java.math.BigInteger;</span><br><span class=line></span><br><span class=line>class Solution {</span><br><span class=line>    public int trailingZeroes(int n) {</span><br><span class=line>        BigInteger nFactorResult = BigInteger.ONE;</span><br><span class=line>        for (int i = 2; i <= n; i++) {</span><br><span class=line>            nFactorResult = nFactorResult.multiply(BigInteger.valueOf(i));</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        int ans = 0;</span><br><span class=line>        while (nFactorResult.mod(BigInteger.TEN).equals(BigInteger.ZERO)) {</span><br><span class=line>            ans++;</span><br><span class=line>            nFactorResult = nFactorResult.divide(BigInteger.TEN);</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        return ans;        </span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=复杂度分析>复杂度分析</h2><ul><li>时间复杂度：<span class="math inline">\(O(n)\)</span>, 实际上应该是 <span class="math inline">\(O(n + \log n)\)</span>，但 <span class="math inline">\(\log n\)</span> 很快，只有 <span class="math inline">\(O(1)\)</span>，所以 <span class="math inline">\(O(n)\)</span> 。<li>空间复杂度：<span class="math inline">\(O(1)\)</span>。</ul><h1 id=方法二计算1到n中全部5因子数量>方法二：计算1到n中全部5因子数量</h1><p><strong>思路与算法：</strong><p>考虑到计算阶乘末尾的每个 <span class="math inline">\(0\)</span> 表示乘以 <span class="math inline">\(10\)</span>，那么在我们在计算 <span class="math inline">\(n!\)</span> 时乘以 <span class="math inline">\(10\)</span> 的次数是多少？ 考虑到两个数字 <span class="math inline">\(a\)</span> 和 <span class="math inline">\(b\)</span> 相乘，例如，要执行 <span class="math inline">\(15 \times 24 = 360\)</span>，我们可以将其分解为：<p><span class="math display">\[ 15 \times 24 = 3 \times 5 \times 2 \times 2 \times 2 \times 3 = 360 \]</span><p>从上面可以得出，我们只需要考虑 <span class="math inline">\(2 \times 5\)</span> 的因子有多少对。同时，因为 <span class="math inline">\(2\)</span> 的因子数比 <span class="math inline">\(5\)</span> 的因子数要多，所以我们只需要计算 <span class="math inline">\(1\)</span> 到 <span class="math inline">\(n\)</span> 的 <span class="math inline">\(5\)</span> 的因子数有多少即可。<!--noindex--><div class=post-button><a class=btn href=/blog/2019/05/27/leetcode-factorial-trailing-zeroes/#more rel=contents> 阅读全文 » </a></div><!--/noindex--></div><footer class=post-footer><div class=post-eof></div></footer></article></div><nav class=pagination><a class="extend prev" aria-label=上一页 href=/page/39/ rel=prev title=上一页><i class="fa fa-angle-left"></i></a><a class=page-number href=/>1</a><span class=space>…</span><a class=page-number href=/page/39/>39</a><span class="page-number current">40</span><a class=page-number href=/page/41/>41</a><span class=space>…</span><a class=page-number href=/page/68/>68</a><a class="extend next" aria-label=下一页 href=/page/41/ rel=next title=下一页><i class="fa fa-angle-right"></i></a></nav></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2013 – <span itemprop=copyrightYear>2024</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Long Luo</span></div><div class=wordcount><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-chart-line"></i> </span> <span title=站点总字数>1.6m</span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span> <span title=站点阅读时长>23:54</span> </span></div><div class=busuanzi-count><span class=post-meta-item id=busuanzi_container_site_uv> <span class=post-meta-item-icon> <i class="fa fa-user"></i> </span> <span class=site-uv title=总访客量> <span id=busuanzi_value_site_uv></span> </span> </span><span class=post-meta-item id=busuanzi_container_site_pv> <span class=post-meta-item-icon> <i class="fa fa-eye"></i> </span> <span class=site-pv title=总访问量> <span id=busuanzi_value_site_pv></span> </span> </span></div><div class=powered-by>由 <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/pisces/ rel=noopener target=_blank>NexT.Pisces</a> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label=返回顶部 class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><a class="book-mark-link book-mark-link-fixed" role=button></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin=anonymous integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/comments.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/utils.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/motion.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/sidebar.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/next-boot.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/bookmark.min.js></script><script crossorigin=anonymous integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/search/local-search.min.js></script><script async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script class=next-config data-name=enableMath type=application/json>true</script><script class=next-config data-name=mathjax type=application/json>{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/math/mathjax.min.js></script><script class=next-config data-name=waline type=application/json>{"lang":"zh-CN","enable":true,"serverURL":"https://waline.longluo.me/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":true,"libUrl":"https://unpkg.com/@waline/client@v2/dist/waline.js","locale":{"placeholder":"欢迎大家的留言！(留言只需要填昵称即可。) Welcome to comment!"},"emoji":["https://unpkg.com/@waline/emojis@1.0.1/qq"],"meta":["nick","mail","link"],"requiredMeta":[["nick"]],"wordLimit":0,"pageSize":10,"el":"#waline","comment":true,"path":"/page/40/"}</script><link href=https://unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><script>document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});</script>