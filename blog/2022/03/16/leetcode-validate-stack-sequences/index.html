<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><meta content=width=device-width name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.1.1" name=generator><link href=https://fonts.googleapis.com rel=preconnect><link href=https://cdnjs.cloudflare.com rel=preconnect><link href=https://www.longluo.me/assets/logo/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://www.longluo.me/assets/logo/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://www.longluo.me/assets/logo/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><meta content=n6mekvZa-QaR3EnDD-CzJymq7mGubpU7rvoGpKROHLE name=google-site-verification><meta content=6BFBD4DDDB3B6F4FDD26CF82BADDB931 name=msvalidate.01><meta content=a2ab49d952ea45f5 name=yandex-verification><meta content=www.longluo.me name=baidu-site-verification><link href=/css/main.css rel=stylesheet><link as=style href=https://fonts.googleapis.com/css2?family=Noto+Serif+SC:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext onload=this.rel='stylesheet' rel=preload><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css integrity=sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E= rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"www.longluo.me","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":5,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/config.min.js></script><meta content="By Long Luo This article is the solution 4 Approaches: Stack, Array, Greedy and O(n) Time O(1) Space of Problem 946. Validate Stack Sequences. Intuition All elements must be pushed in in order. The ke" name=description><meta content=article property=og:type><meta content="[LeetCode][946. Validate Stack Sequences] 4 Approaches: Stack, Array and Greedy" property=og:title><meta content=https://www.longluo.me/blog/2022/03/16/leetcode-validate-stack-sequences/index.html property=og:url><meta content="Long Luo's Life Notes" property=og:site_name><meta content="By Long Luo This article is the solution 4 Approaches: Stack, Array, Greedy and O(n) Time O(1) Space of Problem 946. Validate Stack Sequences. Intuition All elements must be pushed in in order. The ke" property=og:description><meta content=zh_CN property=og:locale><meta content=2022-03-16T14:21:54.000Z property=article:published_time><meta content=2024-04-03T13:44:11.701Z property=article:modified_time><meta content="Long Luo" property=article:author><meta content=Algorithm property=article:tag><meta content=Leetcode property=article:tag><meta content=Array property=article:tag><meta content=Stack property=article:tag><meta content=Greedy property=article:tag><meta content=summary name=twitter:card><link href=https://www.longluo.me/blog/2022/03/16/leetcode-validate-stack-sequences/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.longluo.me/blog/2022/03/16/leetcode-validate-stack-sequences/","path":"/blog/2022/03/16/leetcode-validate-stack-sequences/","title":"[LeetCode][946. Validate Stack Sequences] 4 Approaches: Stack, Array and Greedy"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>[LeetCode][946. Validate Stack Sequences] 4 Approaches: Stack, Array and Greedy | Long Luo's Life Notes</title><script async src=https://www.googletagmanager.com/gtag/js?id=UA-46213499-2></script><script class=next-config data-name=google_analytics type=application/json>{"tracking_id":"UA-46213499-2","only_pageview":false,"measure_protocol_api_secret":null}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/analytics/google-analytics.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/analytics/baidu-analytics.min.js></script><script async src=https://hm.baidu.com/hm.js?a75fb5d0c0ef1e36c34b7f52bb7c48be></script><script async src=https://assets.growingio.com/2.1/gio.js></script><script class=next-config data-name=growingio_analytics type=application/json>"bc65befc551b6d70"</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/analytics/growingio.min.js></script><script>(function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "gz2vdkhgvh");</script><script async data-host-url=longluo.me data-website-id=2a6d2bf9-2adf-474b-a292-84ca30206507 defer src=https://analytics.us.umami.is/script.js></script><script data-domain=longluo.me defer src=https://plausible.io/js/script.js></script><link href=https://waline.longluo.me/ rel=dns-prefetch><noscript><link href=/css/noscript.css rel=stylesheet></noscript><style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style><link title="Long Luo's Life Notes" href=/atom.xml rel=alternate type=application/atom+xml><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=åˆ‡æ¢å¯¼èˆªæ  class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>Long Luo's Life Notes</p> <i class=logo-line></i> </a><p class=site-subtitle itemprop=description>æ¯ä¸€å¤©éƒ½æ˜¯å¥‡è¿¹</div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=æœç´¢ role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a><li class="menu-item menu-item-works"><a href=/works rel=section><i class="fa fa-code fa-fw"></i>works</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>å…³äº</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>æœç´¢ </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=æœç´¢... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>æ–‡ç« ç›®å½•<li class=sidebar-nav-overview>ç«™ç‚¹æ¦‚è§ˆ</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#intuition><span class=nav-number>1.</span> <span class=nav-text>Intuition</span></a><li class="nav-item nav-level-1"><a class=nav-link href=#stack><span class=nav-number>2.</span> <span class=nav-text>Stack</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis><span class=nav-number>2.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#stack-1><span class=nav-number>3.</span> <span class=nav-text>Stack</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-1><span class=nav-number>3.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#array><span class=nav-number>4.</span> <span class=nav-text>Array</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-2><span class=nav-number>4.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#on-time-o1-space><span class=nav-number>5.</span> <span class=nav-text>O(n) Time O(1) Space</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-3><span class=nav-number>5.1.</span> <span class=nav-text>Analysis</span></a></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt="Long Luo" class=site-author-image itemprop=image src=https://www.longluo.me/assets/avatar/sinc-3d-python.png><p class=site-author-name itemprop=name>Long Luo<div class=site-description itemprop=description>A Curious Engineer</div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>347</span> <span class=site-state-item-name>æ—¥å¿—</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>25</span> <span class=site-state-item-name>åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>349</span> <span class=site-state-item-name>æ ‡ç­¾</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub â†’ https://github.com/longluo" href=https://github.com/longluo target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="ZhiHu â†’ http://www.zhihu.com/people/longluo" href=http://www.zhihu.com/people/longluo target=_blank><i class="fab fa-quora fa-fw"></i>ZhiHu</a> </span><span class=links-of-author-item> <a rel="noopener me" title="LinkedIn â†’ https://www.linkedin.com/in/longluo/" href=https://www.linkedin.com/in/longluo/ target=_blank><i class="fa fa-linkedin fa-fw"></i>LinkedIn</a> </span><span class=links-of-author-item> <a rel="noopener me" title="E-Mail â†’ mailto:luolong0226@163.com" href=mailto:luolong0226@163.com target=_blank><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span></div><div class="cc-license animated" itemprop=license><a class=cc-opacity href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh rel=noopener target=_blank><img alt="Creative Commons" src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg></a></div></div></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i> é“¾æ¥</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=http://blog.csdn.net/tcpipstack rel=noopener target=_blank title=http://blog.csdn.net/tcpipstack>My CSDN</a><li class=links-of-blogroll-item><a href=https://www.ruanyifeng.com/home.html rel=noopener target=_blank title=https://www.ruanyifeng.com/home.html>é˜®ä¸€å³°è€å¸ˆ</a><li class=links-of-blogroll-item><a href=https://hutusi.com/ rel=noopener target=_blank title=https://hutusi.com/>èƒ¡æ¶‚è¯´</a><li class=links-of-blogroll-item><a href=https://www.qtmuniao.com/ rel=noopener target=_blank title=https://www.qtmuniao.com/>æœ¨é¸Ÿæ‚è®°</a><li class=links-of-blogroll-item><a href=https://yufan.me/ rel=noopener target=_blank title=https://yufan.me/>é›¨å¸†</a></ul></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=https://www.longluo.me/blog/2022/03/16/leetcode-validate-stack-sequences/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc-3d-python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="[LeetCode][946. Validate Stack Sequences] 4 Approaches: Stack, Array and Greedy | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>[LeetCode][946. Validate Stack Sequences] 4 Approaches: Stack, Array and Greedy<a class=post-edit-link href=https://github.com/longluo/blog/tree/master/source/_posts/leetcode-validate-stack-sequences.md rel=noopener target=_blank title=ç¼–è¾‘><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" title="åˆ›å»ºæ—¶é—´ï¼š2022-03-16 22:21:54" datetime=2022-03-16T22:21:54+08:00>2022-03-16</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2024-04-03 21:44:11" datetime=2024-04-03T21:44:11+08:00 itemprop=dateModified>2024-04-03</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>åˆ†ç±»äº</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Leetcode/ itemprop=url rel=index><span itemprop=name>Leetcode</span></a> </span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Walineï¼š</span> <a href=/blog/2022/03/16/leetcode-validate-stack-sequences/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2022/03/16/leetcode-validate-stack-sequences/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=é˜…è¯»æ¬¡æ•°> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>é˜…è¯»æ¬¡æ•°ï¼š</span> <span class=waline-pageview-count data-path=/blog/2022/03/16/leetcode-validate-stack-sequences/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=æœ¬æ–‡å­—æ•°> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>æœ¬æ–‡å­—æ•°ï¼š</span> <span>3.9k</span> </span><span class=post-meta-item title=é˜…è¯»æ—¶é•¿> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>é˜…è¯»æ—¶é•¿ â‰ˆ</span> <span>4 åˆ†é’Ÿ</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>This article is the solution <a href=https://leetcode.com/problems/validate-stack-sequences/solutions/1855130/4-approaches-stack-array-greedy-and-o-n-time-o-1-space/ rel=noopener target=_blank>4 Approaches: Stack, Array, Greedy and O(n) Time O(1) Space</a> of Problem <a href=https://leetcode.com/problems/validate-stack-sequences rel=noopener target=_blank>946. Validate Stack Sequences</a>.<h1 id=intuition>Intuition</h1><p>All elements must be <strong>pushed</strong> in in order. The key is how to pop them out?<p>Assuming that the value of the current top element of the stack is <span class="math inline">\(1\)</span>, and the next value to be popped in the corresponding popped sequence is also <span class="math inline">\(1\)</span>, then this value must be popped out immediately. Because the subsequent push will change the top element of the stack to a value other than <span class="math inline">\(2\)</span>, so the popped sequence of the popped numbers does not correspond.<p>Pushes each number in the pushed queue onto the stack, checking to see if the number is the next value to be popped in the popped sequence, and pops it if so.<p>Finally, check that not all the popped values are popped.<h1 id=stack>Stack</h1><p>We can use a <strong>Stack</strong> to simulate the process.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=type>boolean</span> <span class="title function_">validateStackSequences</span><span class=params>(<span class=type>int</span>[] pushed, <span class=type>int</span>[] popped)</span> {</span><br><span class=line>    <span class=keyword>if</span> (popped == <span class=literal>null</span> || pushed.length <= <span class=number>1</span>) {</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>true</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=type>int</span> <span class=variable>len</span> <span class=operator>=</span> pushed.length;</span><br><span class=line>    <span class=type>int</span> <span class=variable>popIdx</span> <span class=operator>=</span> <span class=number>0</span>;</span><br><span class=line>    Stack&LTInteger> stack = <span class=keyword>new</span> <span class="title class_">Stack</span><>();</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i < len; i++) {</span><br><span class=line>        stack.push(pushed[i]);</span><br><span class=line>        <span class=keyword>while</span> (!stack.empty() && popIdx < len && stack.peek() == popped[popIdx]) {</span><br><span class=line>            stack.pop();</span><br><span class=line>            popIdx++;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>return</span> popIdx == len;</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(N)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(N)\)</span></ul><span id=more></span><h1 id=stack-1>Stack</h1><p>The <strong>Stack</strong> approach uses <span class="math inline">\(2\)</span> loops which make it hard to understand.<p>We can simulate the operation. We use <span class="math inline">\(2\)</span> indices to the pushed and poped array.<p>There comes <span class="math inline">\(3\)</span> cases:<ol type=1><li><span class="math inline">\(pushed[i] \ne poped[j]\)</span>, <span class="math inline">\(i++\)</span><li><span class="math inline">\(pushed[i] = poped[j]\)</span>, <span class="math inline">\(i++\)</span>, <span class="math inline">\(j++\)</span><li><span class="math inline">\(i = len\)</span>, <span class="math inline">\(popped[j] = stack.peek()\)</span>, <span class="math inline">\(j++\)</span>,<li><span class="math inline">\(i = len\)</span>, <span class="math inline">\(j \lt len\)</span>, <span class="math inline">\(popped[j] = stack.peek()\)</span>, then break the circle.</ol><figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>boolean</span> <span class="title function_">validateStackSequences</span><span class=params>(<span class=type>int</span>[] pushed, <span class=type>int</span>[] popped)</span> {</span><br><span class=line>    <span class=keyword>if</span> (popped == <span class=literal>null</span> || pushed.length <= <span class=number>1</span>) {</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>true</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=type>int</span> <span class=variable>len</span> <span class=operator>=</span> pushed.length;</span><br><span class=line>    <span class=type>int</span> <span class=variable>pushIdx</span> <span class=operator>=</span> <span class=number>0</span>;</span><br><span class=line>    <span class=type>int</span> <span class=variable>popIdx</span> <span class=operator>=</span> <span class=number>0</span>;</span><br><span class=line>    Stack&LTInteger> stack = <span class=keyword>new</span> <span class="title class_">Stack</span><>();</span><br><span class=line>    <span class=keyword>while</span> (popIdx < len) {</span><br><span class=line>        <span class=keyword>while</span> (pushIdx < len && pushed[pushIdx] != popped[popIdx]) {</span><br><span class=line>            stack.push(pushed[pushIdx]);</span><br><span class=line>            pushIdx++;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>while</span> (pushIdx < len && popIdx < len && pushed[pushIdx] == popped[popIdx]) {</span><br><span class=line>            pushIdx++;</span><br><span class=line>            popIdx++;</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>while</span> (!stack.empty() && popped[popIdx] == stack.peek()) {</span><br><span class=line>            popIdx++;</span><br><span class=line>            stack.pop();</span><br><span class=line>        }</span><br><span class=line></span><br><span class=line>        <span class=keyword>if</span> (pushIdx == len && popIdx < len && popped[popIdx] != stack.peek()) {</span><br><span class=line>            <span class=keyword>break</span>;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (stack.empty()) {</span><br><span class=line>        <span class=keyword>return</span> <span class=literal>true</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>return</span> <span class=literal>false</span>;</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-1>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(N)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(N)\)</span></ul><h1 id=array>Array</h1><p>Use the array to realize the function of the stack, and simulate the operation of popping and pushing the stack. <strong>size</strong> represents the size of the stack, and <strong>size-1</strong> is the position of the top of the stack.<p>Although access is faster, using an array to implement a stack is not recommended in most cases.<p>Especially when the pushed array may be very large, the array stack as the stack will also be very large.<p>But in fact, there are not many elements in the stack at the same time, which is a great waste.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=type>boolean</span> <span class="title function_">validateStackSequences</span><span class=params>(<span class=type>int</span>[] pushed, <span class=type>int</span>[] popped)</span> {</span><br><span class=line>    <span class=type>int</span>[] stack = <span class=keyword>new</span> <span class="title class_">int</span>[pushed.length];</span><br><span class=line>    <span class=type>int</span> <span class=variable>size</span> <span class=operator>=</span> <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>, j = <span class=number>0</span>; i < pushed.length; i++) {</span><br><span class=line>        stack[size++] = pushed[i];</span><br><span class=line>        <span class=keyword>while</span> (size != <span class=number>0</span> && stack[size - <span class=number>1</span>] == popped[j]) {</span><br><span class=line>            size--;j++;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>    <span class=keyword>return</span> size == <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-2>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(N)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(N)\)</span></ul><h1 id=on-time-o1-space>O(n) Time O(1) Space</h1><p>In fact, we can optimize the Solution <span class="math inline">\(3\)</span>, we can find that stack is redundant.<p>When traversing the pushed array, <span class="math inline">\(pushed[i]\)</span> is actually the element at the top of the stack.<p>At this time, <span class="math inline">\(pushed[i-1]\)</span>, <span class="math inline">\(push[i-2]\)</span>â€¦ These positions are already â€œfreeâ€, so they are completely The role of stack can be replaced by array push.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=type>boolean</span> <span class="title function_">validateStackSequences</span><span class=params>(<span class=type>int</span>[] pushed, <span class=type>int</span>[] popped)</span> {</span><br><span class=line>    <span class=type>int</span> <span class=variable>size</span> <span class=operator>=</span> <span class=number>0</span>;</span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>, j = <span class=number>0</span>; i < pushed.length; i++) {</span><br><span class=line>        pushed[size++] = pushed[i];</span><br><span class=line>        <span class=keyword>while</span> (size != <span class=number>0</span> && pushed[size - <span class=number>1</span>] == popped[j]) {</span><br><span class=line>            size--;</span><br><span class=line>            j++;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>return</span> size == <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-3>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(N)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(1)\)</span></ul><hr><p>All suggestions are welcome. If you have any query or suggestion please comment below. Please upvoteğŸ‘ if you likeğŸ’— it. Thank you:-)<p>Explore More <a href=http://www.longluo.me/blog/2020/12/09/leetcode-solutions/>Leetcode Solutions</a>. ğŸ˜‰ğŸ˜ƒğŸ’—</div><footer class=post-footer><div class=reward-container><div>è¯·æˆ‘ä¸€æ¯å’–å•¡å§ï¼</div><button>èµèµ</button><div class=post-reward><div><img alt="Long Luo å¾®ä¿¡" src=https://www.longluo.me/assets/reward/wechatpay.jpeg><span>å¾®ä¿¡</span></div></div></div><div class=post-copyright><ul><li class=post-copyright-author><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Long Luo<li class=post-copyright-link><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a title="[LeetCode][946. Validate Stack Sequences] 4 Approaches: Stack, Array and Greedy" href=https://www.longluo.me/blog/2022/03/16/leetcode-validate-stack-sequences/>https://www.longluo.me/blog/2022/03/16/leetcode-validate-stack-sequences/</a><li class=post-copyright-license><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh rel=noopener target=_blank><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</ul></div><div class=followme><span>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¶å®ƒå‘å¸ƒæ¸ é“</span><div class=social-list><div class=social-item><a class=social-link href=/atom.xml target=_blank> <span class=icon> <i class="fa fa-rss"></i> </span> <span class=label>RSS</span> </a></div></div></div><div class=post-tags><a href=/tags/Algorithm/ rel=tag># Algorithm</a><a href=/tags/Leetcode/ rel=tag># Leetcode</a><a href=/tags/Array/ rel=tag># Array</a><a href=/tags/Stack/ rel=tag># Stack</a><a href=/tags/Greedy/ rel=tag># Greedy</a></div><div class=post-nav><div class=post-nav-item><a title="[Leetcode][1249. Minimum Remove to Make Valid Parentheses] Stack Solution with Easy Detailed Explanation" href=/blog/2022/03/15/leetcode-minimum-remove-to-make-valid-parentheses/ rel=prev> <i class="fa fa-angle-left"></i> [Leetcode][1249. Minimum Remove to Make Valid Parentheses] Stack Solution with Easy Detailed Explanation </a></div><div class=post-nav-item><a title="[LeetCode][856. Score of Parentheses] The Tricky and Clean Solution: Replace Core by 1" href=/blog/2022/03/17/leetcode-score-of-parentheses/ rel=next> [LeetCode][856. Score of Parentheses] The Tricky and Clean Solution: Replace Core by 1 <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div><div class=comments id=waline></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>Â© 2013 â€“ <span itemprop=copyrightYear>2025</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Long Luo</span></div><div class=wordcount><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-chart-line"></i> </span> <span title=ç«™ç‚¹æ€»å­—æ•°>1.6m</span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span> <span title=ç«™ç‚¹é˜…è¯»æ—¶é•¿>24:30</span> </span></div><div class=busuanzi-count><span class=post-meta-item id=busuanzi_container_site_uv> <span class=post-meta-item-icon> <i class="fa fa-user"></i> </span> <span class=site-uv title=æ€»è®¿å®¢é‡> <span id=busuanzi_value_site_uv></span> </span> </span><span class=post-meta-item id=busuanzi_container_site_pv> <span class=post-meta-item-icon> <i class="fa fa-eye"></i> </span> <span class=site-pv title=æ€»è®¿é—®é‡> <span id=busuanzi_value_site_pv></span> </span> </span></div><div class=powered-by>ç”± <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/pisces/ rel=noopener target=_blank>NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨</div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label=è¿”å›é¡¶éƒ¨ class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><a class="book-mark-link book-mark-link-fixed" role=button></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin=anonymous integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/comments.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/utils.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/motion.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/sidebar.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/next-boot.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/bookmark.min.js></script><script crossorigin=anonymous integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/search/local-search.min.js></script><script async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script class=next-config data-name=enableMath type=application/json>true</script><script class=next-config data-name=mathjax type=application/json>{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/math/mathjax.min.js></script><script class=next-config data-name=waline type=application/json>{"lang":"zh-CN","enable":true,"serverURL":"https://waline.longluo.me/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":true,"libUrl":"https://unpkg.com/@waline/client@v2/dist/waline.js","locale":{"placeholder":"æ¬¢è¿å¤§å®¶çš„ç•™è¨€ï¼(ç•™è¨€åªéœ€è¦å¡«æ˜µç§°å³å¯ã€‚) Welcome to comment!"},"emoji":["https://unpkg.com/@waline/emojis@1.0.1/qq"],"meta":["nick","mail","link"],"requiredMeta":[["nick"]],"wordLimit":0,"pageSize":10,"el":"#waline","comment":true,"path":"/blog/2022/03/16/leetcode-validate-stack-sequences/"}</script><link href=https://unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><script>document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});</script>