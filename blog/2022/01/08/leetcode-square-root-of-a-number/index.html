<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><meta content=width=device-width name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.1.1" name=generator><link href=https://fonts.googleapis.com rel=preconnect><link href=https://cdnjs.cloudflare.com rel=preconnect><link href=https://www.longluo.me/assets/logo/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://www.longluo.me/assets/logo/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://www.longluo.me/assets/logo/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><meta content=n6mekvZa-QaR3EnDD-CzJymq7mGubpU7rvoGpKROHLE name=google-site-verification><meta content=6BFBD4DDDB3B6F4FDD26CF82BADDB931 name=msvalidate.01><meta content=a2ab49d952ea45f5 name=yandex-verification><meta content=www.longluo.me name=baidu-site-verification><link href=/css/main.css rel=stylesheet><link as=style href=https://fonts.googleapis.com/css2?family=Noto+Serif+SC:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext onload=this.rel='stylesheet' rel=preload><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css integrity=sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E= rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"www.longluo.me","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":5,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/config.min.js></script><meta content="By Long Luo This article is the solution 4 Approaches: Brute Force, Exponent, Binary Search and the Newton’s Iteration Method of Problem 69. Sqrt(x) . Here shows 4 approaches for finding the square ro" name=description><meta content=article property=og:type><meta content="[Leetcode][69. Sqrt(x)] 4 Approaches for Finding the Square Root of A Number: Brute Force, Exponent, Binary Search and the Newton Iteration Method" property=og:title><meta content=https://www.longluo.me/blog/2022/01/08/leetcode-square-root-of-a-number/index.html property=og:url><meta content="Long Luo's Life Notes" property=og:site_name><meta content="By Long Luo This article is the solution 4 Approaches: Brute Force, Exponent, Binary Search and the Newton’s Iteration Method of Problem 69. Sqrt(x) . Here shows 4 approaches for finding the square ro" property=og:description><meta content=zh_CN property=og:locale><meta content=https://www.longluo.me/assets/blog/images/leetcode/newton_iteration_method.png property=og:image><meta content=2022-01-08T00:12:10.000Z property=article:published_time><meta content=2024-10-29T14:15:07.834Z property=article:modified_time><meta content="Long Luo" property=article:author><meta content=Math property=article:tag><meta content=Algorithm property=article:tag><meta content="Binary Search" property=article:tag><meta content=Leetcode property=article:tag><meta content=summary name=twitter:card><meta content=https://www.longluo.me/assets/blog/images/leetcode/newton_iteration_method.png name=twitter:image><link href=https://www.longluo.me/blog/2022/01/08/leetcode-square-root-of-a-number/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.longluo.me/blog/2022/01/08/leetcode-square-root-of-a-number/","path":"/blog/2022/01/08/leetcode-square-root-of-a-number/","title":"[Leetcode][69. Sqrt(x)] 4 Approaches for Finding the Square Root of A Number: Brute Force, Exponent, Binary Search and the Newton Iteration Method"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>[Leetcode][69. Sqrt(x)] 4 Approaches for Finding the Square Root of A Number: Brute Force, Exponent, Binary Search and the Newton Iteration Method | Long Luo's Life Notes</title><script async src=https://www.googletagmanager.com/gtag/js?id=UA-46213499-2></script><script class=next-config data-name=google_analytics type=application/json>{"tracking_id":"UA-46213499-2","only_pageview":false,"measure_protocol_api_secret":null}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/analytics/google-analytics.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/analytics/baidu-analytics.min.js></script><script async src=https://hm.baidu.com/hm.js?a75fb5d0c0ef1e36c34b7f52bb7c48be></script><script async src=https://assets.growingio.com/2.1/gio.js></script><script class=next-config data-name=growingio_analytics type=application/json>"bc65befc551b6d70"</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/analytics/growingio.min.js></script><script>(function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "gz2vdkhgvh");</script><script async data-host-url=longluo.me data-website-id=2a6d2bf9-2adf-474b-a292-84ca30206507 defer src=https://analytics.us.umami.is/script.js></script><script data-domain=longluo.me defer src=https://plausible.io/js/script.js></script><link href=https://waline.longluo.me/ rel=dns-prefetch><noscript><link href=/css/noscript.css rel=stylesheet></noscript><style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style><link title="Long Luo's Life Notes" href=/atom.xml rel=alternate type=application/atom+xml><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>Long Luo's Life Notes</p> <i class=logo-line></i> </a><p class=site-subtitle itemprop=description>每一天都是奇迹</div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=搜索 role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-works"><a href=/works rel=section><i class="fa fa-code fa-fw"></i>works</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>关于</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=搜索... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#brute-force><span class=nav-number>1.</span> <span class=nav-text>Brute Force</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis><span class=nav-number>1.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#exponent><span class=nav-number>2.</span> <span class=nav-text>Exponent</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-1><span class=nav-number>2.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#binary-search><span class=nav-number>3.</span> <span class=nav-text>Binary Search</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-2><span class=nav-number>3.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#newtons-method><span class=nav-number>4.</span> <span class=nav-text>Newton’s Method</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#initial-value><span class=nav-number>4.0.1.</span> <span class=nav-text>Initial value</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#ending-iteration><span class=nav-number>4.0.2.</span> <span class=nav-text>Ending iteration</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-3><span class=nav-number>4.1.</span> <span class=nav-text>Analysis</span></a></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt="Long Luo" class=site-author-image itemprop=image src=https://www.longluo.me/assets/avatar/sinc-3d-python.png><p class=site-author-name itemprop=name>Long Luo<div class=site-description itemprop=description>A Curious Engineer</div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>347</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>25</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>343</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/longluo" href=https://github.com/longluo target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="ZhiHu → http://www.zhihu.com/people/longluo" href=http://www.zhihu.com/people/longluo target=_blank><i class="fab fa-quora fa-fw"></i>ZhiHu</a> </span><span class=links-of-author-item> <a rel="noopener me" title="LinkedIn → https://www.linkedin.com/in/longluo/" href=https://www.linkedin.com/in/longluo/ target=_blank><i class="fa fa-linkedin fa-fw"></i>LinkedIn</a> </span><span class=links-of-author-item> <a rel="noopener me" title="E-Mail → mailto:luolong0226@163.com" href=mailto:luolong0226@163.com target=_blank><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span></div><div class="cc-license animated" itemprop=license><a class=cc-opacity href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh rel=noopener target=_blank><img alt="Creative Commons" src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg></a></div></div></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i> 链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=http://blog.csdn.net/tcpipstack rel=noopener target=_blank title=http://blog.csdn.net/tcpipstack>My CSDN</a><li class=links-of-blogroll-item><a href=https://www.ruanyifeng.com/home.html rel=noopener target=_blank title=https://www.ruanyifeng.com/home.html>阮一峰老师</a><li class=links-of-blogroll-item><a href=https://hutusi.com/ rel=noopener target=_blank title=https://hutusi.com/>胡涂说</a><li class=links-of-blogroll-item><a href=https://www.qtmuniao.com/ rel=noopener target=_blank title=https://www.qtmuniao.com/>木鸟杂记</a><li class=links-of-blogroll-item><a href=https://yufan.me/ rel=noopener target=_blank title=https://yufan.me/>雨帆</a></ul></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=https://www.longluo.me/blog/2022/01/08/leetcode-square-root-of-a-number/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc-3d-python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="[Leetcode][69. Sqrt(x)] 4 Approaches for Finding the Square Root of A Number: Brute Force, Exponent, Binary Search and the Newton Iteration Method | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>[Leetcode][69. Sqrt(x)] 4 Approaches for Finding the Square Root of A Number: Brute Force, Exponent, Binary Search and the Newton Iteration Method<a class=post-edit-link href=https://github.com/longluo/blog/tree/master/source/_posts/leetcode-square-root-of-a-number.md rel=noopener target=_blank title=编辑><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2022-01-08 08:12:10" datetime=2022-01-08T08:12:10+08:00>2022-01-08</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2024-10-29 22:15:07" datetime=2024-10-29T22:15:07+08:00 itemprop=dateModified>2024-10-29</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Leetcode/ itemprop=url rel=index><span itemprop=name>Leetcode</span></a> </span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2022/01/08/leetcode-square-root-of-a-number/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2022/01/08/leetcode-square-root-of-a-number/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2022/01/08/leetcode-square-root-of-a-number/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>4.5k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>4 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>This article is the solution <a href=https://leetcode.com/problems/sqrtx/solutions/1867232/4-approaches-brute-force-exponent-binary-search-and-the-newton-s-method/ rel=noopener target=_blank>4 Approaches: Brute Force, Exponent, Binary Search and the Newton’s Iteration Method</a> of Problem <a href=https://leetcode.com/problems/sqrtx/ rel=noopener target=_blank>69. Sqrt(x)</a> .<p>Here shows <strong>4</strong> approaches for finding the square root of a number: Brute Force, Exponent, <strong>Binary Search</strong> and the <strong>Newton’s Iteration Method</strong>.<p>Given an integer <span class="math inline">\(N\)</span> and a tolerance level <span class="math inline">\(L\)</span>, the task is to find the square root of that number.<h1 id=brute-force>Brute Force</h1><p>The Brute Force way is very easy, just enumerate a value from <span class="math inline">\(0\)</span> to <span class="math inline">\(x\)</span>, check the product <span class="math inline">\(i^2\)</span> and target, return the answer.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">mySqrt</span><span class=params>(<span class=type>int</span> x)</span> {</span><br><span class=line>    <span class=keyword>if</span> (x == <span class=number>0</span> || x == <span class=number>1</span>) {</span><br><span class=line>        <span class=keyword>return</span> x;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i < x; i++) {</span><br><span class=line>        <span class=type>long</span> <span class=variable>sum</span> <span class=operator>=</span> i * i;</span><br><span class=line>        <span class=type>long</span> <span class=variable>bigger</span> <span class=operator>=</span> (<span class=type>long</span>) (i + <span class=number>1</span>) * (i + <span class=number>1</span>);</span><br><span class=line>        <span class=keyword>if</span> (sum == x) {</span><br><span class=line>            <span class=keyword>return</span> i;</span><br><span class=line>        } <span class=keyword>else</span> <span class=keyword>if</span> (sum < x && bigger > x) {</span><br><span class=line>            <span class=keyword>return</span> i;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(n)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(1)\)</span></ul><h1 id=exponent>Exponent</h1><p>Noted that:<p><span class="math display">\[ \sqrt{x} = x^{1/2} = (e ^ {\ln x})^{1/2} = e^{\frac{1}{2} \ln x} \]</span><p>So we can use the exponent <span class="math inline">\(\exp\)</span> and logarithm <span class="math inline">\(\ln\)</span> to calculate the square root of the number <span class="math inline">\(\sqrt{x}\)</span>.<p>It’s really a fast and simple way!<p>Note: Since the computer can’t store the exact value of the float number, and the parameters and return values of the exponential function and logarithmic function are float numbers, so the result may be wrong.<p>For example, when <span class="math inline">\(x = 2147395600\)</span>, the result of <span class="math inline">\(e^{\frac{1}{2} \ln x}\)</span> is <span class="math inline">\(10^{-11}\)</span> from the correct value of <span class="math inline">\(46340\)</span> , so when taking the integer part of the result, you will get the wrong result of <span class="math inline">\(46339\)</span> .<p>So after getting the integer part <span class="math inline">\(\textit{ans}\)</span> of the result, we should find out which of <span class="math inline">\(\textit{ans}\)</span> and <span class="math inline">\(\textit{ans} + 1\)</span> is the real answer.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=comment>// Exp O(1) O(1)</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">mySqrt_exp</span><span class=params>(<span class=type>int</span> x)</span> {</span><br><span class=line>    <span class=keyword>if</span> (x == <span class=number>0</span>) {</span><br><span class=line>        <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line>    <span class=type>int</span> <span class=variable>ans</span> <span class=operator>=</span> (<span class=type>int</span>) Math.exp(<span class=number>0.5</span> * Math.log(x));</span><br><span class=line>    <span class=keyword>return</span> (<span class=type>long</span>) (ans + <span class=number>1</span>) * (ans + <span class=number>1</span>) <= x ? ans + <span class=number>1</span> : ans;</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-1>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(1)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(1)\)</span>.</ul><span id=more></span><h1 id=binary-search>Binary Search</h1><p>We can use Binary Search to solve this problem.<p>Let the square root of <span class="math inline">\(x\)</span> is <span class="math inline">\(k\)</span>, <span class="math inline">\(k^2 \leq x\)</span>. The lower bound is <span class="math inline">\(0\)</span>, and the upper bound is <span class="math inline">\(x\)</span>. In each step, we need to compare the middle element <span class="math inline">\(mid^2 \leq x\)</span> or <span class="math inline">\(mid^2 > x\)</span> , adjust the range of the upper and lower bounds.<p>Since all our operations are integer operations, there is no error, so after getting the final answer <span class="math inline">\(\textit{ans}\)</span>, there is no need to try <span class="math inline">\(\textit{ans} + 1\)</span> again.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">mySqrt_bs_opt</span><span class=params>(<span class=type>int</span> x)</span> {</span><br><span class=line>    <span class=keyword>if</span> (x <= <span class=number>1</span>) {</span><br><span class=line>        <span class=keyword>return</span> x;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=type>int</span> <span class=variable>left</span> <span class=operator>=</span> <span class=number>1</span>;</span><br><span class=line>    <span class=type>int</span> <span class=variable>right</span> <span class=operator>=</span> x / <span class=number>2</span>;</span><br><span class=line>    <span class=keyword>while</span> (left < right) {</span><br><span class=line>        <span class=type>int</span> <span class=variable>mid</span> <span class=operator>=</span> left + (right - left + <span class=number>1</span>) / <span class=number>2</span>;</span><br><span class=line>        <span class=keyword>if</span> (mid > x / mid) {</span><br><span class=line>            right = mid - <span class=number>1</span>;</span><br><span class=line>        } <span class=keyword>else</span> {</span><br><span class=line>            left = mid;</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>return</span> left;</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-2>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(\log x)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(1)\)</span>.</ul><h1 id=newtons-method>Newton’s Method</h1><p>The <strong>Newton’s Method</strong> is:<p>Let <span class="math inline">\(N\)</span> be any number then the square root of <span class="math inline">\(N\)</span> can be given by the formula:<p><span class="math display">\[ root = 0.5 \times (X + (N / X)) \]</span><p>where <span class="math inline">\(X\)</span> is any guess which can be assumed to be <span class="math inline">\(N\)</span> or <span class="math inline">\(1\)</span>.<ol type=1><li>In the above formula, <span class="math inline">\(X\)</span> is any assumed square root of <span class="math inline">\(N\)</span> and root is the correct square root of <span class="math inline">\(N\)</span>.<li><strong>Tolerance limit</strong> is the maximum difference between <span class="math inline">\(X\)</span> and root allowed.</ol><p>But how to understand this method?<p>If we want to find the <strong>square root</strong> of the integer <span class="math inline">\(N\)</span>. Obviously, the square root of <span class="math inline">\(N\)</span> is the function <span class="math inline">\(y = f(x) = x^2 - N\)</span> of zero.<figure><img alt="Newton Iteration Method" src=https://www.longluo.me/assets/blog/images/leetcode/newton_iteration_method.png><figcaption aria-hidden=true>Newton Iteration Method</figcaption></figure><p>We take any <span class="math inline">\(x_n\)</span> as an initial value, at each iteration of the step. We find the point <span class="math inline">\((x_n, f(x_n))\)</span> on the image of the function, make a slope through this point, the derivative of this point <span class="math inline">\(f'(x_n)\)</span> , the intersection with the horizontal axis is denoted as <span class="math inline">\(x_{n+1}\)</span> compared to <span class="math inline">\(x_n\)</span>. It’s closer to zero.<p>The equation of the straight line is:<p><span class="math display">\[ 2 \times x_n = (x_n^2 - N) / (x_n - x) \]</span><p>The intersection with the horizontal axis is the equation:<p><span class="math display">\[ 2 \times x_n \times x - (x_n^2 + N) = 0 \]</span><p>which is the new iteration result <span class="math inline">\(x_{n+1}\)</span>:<p><span class="math display">\[ x_{n+1} = 0.5 \times (x_n + N / x_n) \]</span><p>After iterations, the value of the true zero point <span class="math inline">\(sqrt(N)\)</span> is close enough to be an answer.<p>There comes two questions: 1. Which initial value do we assign? 2. When does the iteration end?<h3 id=initial-value>Initial value</h3><p>As mentioned <strong>rule 1</strong>, we assign <span class="math inline">\(X\)</span> to the <span class="math inline">\(N\)</span> itself because we want to find the positive <span class="math inline">\(sqrt(N)\)</span> and <span class="math inline">\(N\)</span> is surely larger than <span class="math inline">\(sqrt(N)\)</span>.<h3 id=ending-iteration>Ending iteration</h3><p>After each iteration, the answer is closer to the zero point. So when the intersection obtained from two adjacent iterations is very close, we can conclude that the result at this time is enough for us to get the answer.<p>As mentioned <strong>rule 2</strong>, if the calculated root comes inside the tolerance allowed then break out of the loop.<p>In general, it can be judged whether the difference between the results of two adjacent iterations is less than a very small non-negative number.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">mySqrt_newton</span><span class=params>(<span class=type>int</span> x)</span> {</span><br><span class=line>    <span class=keyword>if</span> (x == <span class=number>0</span>) {</span><br><span class=line>        <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=type>double</span> <span class=variable>N</span> <span class=operator>=</span> x;</span><br><span class=line>    <span class=type>double</span> <span class=variable>x0</span> <span class=operator>=</span> x;</span><br><span class=line>    <span class=keyword>while</span> (<span class=literal>true</span>) {</span><br><span class=line>        <span class=type>double</span> <span class=variable>xi</span> <span class=operator>=</span> <span class=number>0.5</span> * (x0 + N / x0);</span><br><span class=line>        <span class=keyword>if</span> (Math.abs(x0 - xi) < <span class=number>1e-7</span>) {</span><br><span class=line>            <span class=keyword>break</span>;</span><br><span class=line>        }</span><br><span class=line>        x0 = xi;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>return</span> (<span class=type>int</span>) x0;</span><br><span class=line>}</span><br><span class=line>	</span><br></pre></table></figure><h2 id=analysis-3>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(\log x)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(1)\)</span></ul><hr><p>All suggestions are welcome. If you have any query or suggestion please comment below. Please upvote👍 if you like💗 it. Thank you:-)<p>Explore More <a href=http://www.longluo.me/blog/2020/12/09/leetcode-solutions/>Leetcode Solutions</a>. 😉😃💗</div><footer class=post-footer><div class=reward-container><div>请我一杯咖啡吧！</div><button>赞赏</button><div class=post-reward><div><img alt="Long Luo 微信" src=https://www.longluo.me/assets/reward/wechatpay.jpeg><span>微信</span></div></div></div><div class=post-copyright><ul><li class=post-copyright-author><strong>本文作者： </strong>Long Luo<li class=post-copyright-link><strong>本文链接：</strong> <a title="[Leetcode][69. Sqrt(x)] 4 Approaches for Finding the Square Root of A Number: Brute Force, Exponent, Binary Search and the Newton Iteration Method" href=https://www.longluo.me/blog/2022/01/08/leetcode-square-root-of-a-number/>https://www.longluo.me/blog/2022/01/08/leetcode-square-root-of-a-number/</a><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh rel=noopener target=_blank><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a class=social-link href=/atom.xml target=_blank> <span class=icon> <i class="fa fa-rss"></i> </span> <span class=label>RSS</span> </a></div></div></div><div class=post-tags><a href=/tags/Math/ rel=tag># Math</a><a href=/tags/Algorithm/ rel=tag># Algorithm</a><a href=/tags/Binary-Search/ rel=tag># Binary Search</a><a href=/tags/Leetcode/ rel=tag># Leetcode</a></div><div class=post-nav><div class=post-nav-item><a title="[LeetCode][50. Pow(x, n)] Fast Power Algorithm: Binary Exponentiation" href=/blog/2022/01/02/leetcode-powx-n/ rel=prev> <i class="fa fa-angle-left"></i> [LeetCode][50. Pow(x, n)] Fast Power Algorithm: Binary Exponentiation </a></div><div class=post-nav-item><a title="[LeetCode][219. Contains Duplicate II] 3 Approaches: Brute Force, HashMap and Sliding Window" href=/blog/2022/01/19/leetcode-contains-duplicate-ii/ rel=next> [LeetCode][219. Contains Duplicate II] 3 Approaches: Brute Force, HashMap and Sliding Window <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div><div class=comments id=waline></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2013 – <span itemprop=copyrightYear>2025</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Long Luo</span></div><div class=wordcount><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-chart-line"></i> </span> <span title=站点总字数>1.6m</span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span> <span title=站点阅读时长>24:19</span> </span></div><div class=busuanzi-count><span class=post-meta-item id=busuanzi_container_site_uv> <span class=post-meta-item-icon> <i class="fa fa-user"></i> </span> <span class=site-uv title=总访客量> <span id=busuanzi_value_site_uv></span> </span> </span><span class=post-meta-item id=busuanzi_container_site_pv> <span class=post-meta-item-icon> <i class="fa fa-eye"></i> </span> <span class=site-pv title=总访问量> <span id=busuanzi_value_site_pv></span> </span> </span></div><div class=powered-by>由 <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/pisces/ rel=noopener target=_blank>NexT.Pisces</a> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label=返回顶部 class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><a class="book-mark-link book-mark-link-fixed" role=button></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin=anonymous integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/comments.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/utils.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/motion.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/sidebar.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/next-boot.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/bookmark.min.js></script><script crossorigin=anonymous integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/search/local-search.min.js></script><script async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script class=next-config data-name=enableMath type=application/json>true</script><script class=next-config data-name=mathjax type=application/json>{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.21.1/third-party/math/mathjax.min.js></script><script class=next-config data-name=waline type=application/json>{"lang":"zh-CN","enable":true,"serverURL":"https://waline.longluo.me/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":true,"libUrl":"https://unpkg.com/@waline/client@v2/dist/waline.js","locale":{"placeholder":"欢迎大家的留言！(留言只需要填昵称即可。) Welcome to comment!"},"emoji":["https://unpkg.com/@waline/emojis@1.0.1/qq"],"meta":["nick","mail","link"],"requiredMeta":[["nick"]],"wordLimit":0,"pageSize":10,"el":"#waline","comment":true,"path":"/blog/2022/01/08/leetcode-square-root-of-a-number/"}</script><link href=https://unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><script>document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});</script>