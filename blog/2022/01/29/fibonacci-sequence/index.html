<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><meta content=width=device-width name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.1.1" name=generator><link href=https://fonts.googleapis.com rel=preconnect><link href=https://cdnjs.cloudflare.com rel=preconnect><link href=https://www.longluo.me/assets/logo/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=https://www.longluo.me/assets/logo/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=https://www.longluo.me/assets/logo/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><meta content=n6mekvZa-QaR3EnDD-CzJymq7mGubpU7rvoGpKROHLE name=google-site-verification><meta content=6BFBD4DDDB3B6F4FDD26CF82BADDB931 name=msvalidate.01><meta content=a2ab49d952ea45f5 name=yandex-verification><meta content=www.longluo.me name=baidu-site-verification><link href=/css/main.css rel=stylesheet><link as=style href=https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext onload=this.rel='stylesheet' rel=preload><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css integrity=sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA= rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"www.longluo.me","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":5,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/config.min.js></script><meta content="By Long Luo The \(\textit{Fibonacci Sequence}\)1 are the numbers in the following integer sequence: \(1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, \dots\)   Fibonacci Sequences  We can see the fibo" name=description><meta content=article property=og:type><meta content="9 Fibonacci Algorithms: The Most Complete Solutions" property=og:title><meta content=https://www.longluo.me/blog/2022/01/29/fibonacci-sequence/index.html property=og:url><meta content="Long Luo's Life Notes" property=og:site_name><meta content="By Long Luo The \(\textit{Fibonacci Sequence}\)1 are the numbers in the following integer sequence: \(1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, \dots\)   Fibonacci Sequences  We can see the fibo" property=og:description><meta content=zh_CN property=og:locale><meta content=https://assets.leetcode.com/users/images/38ca0b09-bb5b-4769-92fc-bc58b57e19e2_1647336405.0266523.png property=og:image><meta content=https://assets.leetcode.com/users/images/6879587c-9c7b-445f-b450-478be1ab69a9_1647336416.5666015.jpeg property=og:image><meta content=2022-01-29T00:05:27.000Z property=article:published_time><meta content=2023-11-14T14:24:40.414Z property=article:modified_time><meta content="Long Luo" property=article:author><meta content=Math property=article:tag><meta content=Algorithm property=article:tag><meta content=Recursion property=article:tag><meta content=Fibonacci property=article:tag><meta content="Dynamic Programming" property=article:tag><meta content=Matrix property=article:tag><meta content=summary name=twitter:card><meta content=https://assets.leetcode.com/users/images/38ca0b09-bb5b-4769-92fc-bc58b57e19e2_1647336405.0266523.png name=twitter:image><link href=https://www.longluo.me/blog/2022/01/29/fibonacci-sequence/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://www.longluo.me/blog/2022/01/29/fibonacci-sequence/","path":"/blog/2022/01/29/fibonacci-sequence/","title":"9 Fibonacci Algorithms: The Most Complete Solutions"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>9 Fibonacci Algorithms: The Most Complete Solutions | Long Luo's Life Notes</title><script async src=https://www.googletagmanager.com/gtag/js?id=UA-46213499-2></script><script class=next-config data-name=google_analytics type=application/json>{"tracking_id":"UA-46213499-2","only_pageview":false,"measure_protocol_api_secret":null}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/analytics/google-analytics.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/analytics/baidu-analytics.min.js></script><script async src=https://hm.baidu.com/hm.js?a75fb5d0c0ef1e36c34b7f52bb7c48be></script><script async src=https://assets.growingio.com/2.1/gio.js></script><script class=next-config data-name=growingio_analytics type=application/json>"bc65befc551b6d70"</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/analytics/growingio.min.js></script><script>(function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "gz2vdkhgvh");</script><script class=next-config data-name=matomo type=application/json>{"enable":true,"server_url":"https://longluo.matomo.cloud/","site_id":1}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/analytics/matomo.min.js></script><script async data-host-url=longluo.me data-website-id=2a6d2bf9-2adf-474b-a292-84ca30206507 defer src=https://analytics.us.umami.is/script.js></script><script data-domain=longluo.me defer src=https://plausible.io/js/script.js></script><link href=https://waline.longluo.me/ rel=dns-prefetch><noscript><link href=/css/noscript.css rel=stylesheet></noscript><style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style><link title="Long Luo's Life Notes" href=/atom.xml rel=alternate type=application/atom+xml><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>Long Luo's Life Notes</p> <i class=logo-line></i> </a><p class=site-subtitle itemprop=description>每一天都是奇迹</div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=搜索 role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-works"><a href=/works rel=section><i class="fa fa-code fa-fw"></i>works</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>关于</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=搜索... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#solution-1-lookup-table---32-bit-signed-integers-only><span class=nav-number>1.</span> <span class=nav-text>Solution 1 Lookup Table - 32 bit signed integers only</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis><span class=nav-number>1.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#solution-2-recursion><span class=nav-number>2.</span> <span class=nav-text>Solution 2 Recursion</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-1><span class=nav-number>2.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#solution-3-dynamic-programming><span class=nav-number>3.</span> <span class=nav-text>Solution 3 Dynamic Programming</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-2><span class=nav-number>3.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#solution-4-dp-using-memoizationtop-down-approach><span class=nav-number>4.</span> <span class=nav-text>Solution 4 DP using memoization(Top down approach)</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-3><span class=nav-number>4.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#solution-5-iterative-space-optimized-method-3><span class=nav-number>5.</span> <span class=nav-text>Solution 5 Iterative (Space Optimized Method 3)</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-4><span class=nav-number>5.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#solution-6-recurrence-matrix><span class=nav-number>6.</span> <span class=nav-text>Solution 6 Recurrence Matrix</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-5><span class=nav-number>6.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#solution-7-fast-matrix-poweroptimized-method-6><span class=nav-number>7.</span> <span class=nav-text>Solution 7 Fast Matrix Power(Optimized Method 6)</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-6><span class=nav-number>7.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#solution-8-ologn-time><span class=nav-number>8.</span> <span class=nav-text>Solution 8 O(logn) Time</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-7><span class=nav-number>8.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#solution-9-math-formula><span class=nav-number>9.</span> <span class=nav-text>Solution 9 Math Formula</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#analysis-8><span class=nav-number>9.1.</span> <span class=nav-text>Analysis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#references><span class=nav-number>10.</span> <span class=nav-text>References</span></a></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt="Long Luo" class=site-author-image itemprop=image src=https://www.longluo.me/assets/avatar/sinc_3d_python.png><p class=site-author-name itemprop=name>Long Luo<div class=site-description itemprop=description>A Curious Engineer</div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>343</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>24</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>321</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/longluo" href=https://github.com/longluo target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="ZhiHu → http://www.zhihu.com/people/longluo" href=http://www.zhihu.com/people/longluo target=_blank><i class="fab fa-quora fa-fw"></i>ZhiHu</a> </span><span class=links-of-author-item> <a rel="noopener me" title="LinkedIn → https://www.linkedin.com/in/longluo/" href=https://www.linkedin.com/in/longluo/ target=_blank><i class="fa fa-linkedin fa-fw"></i>LinkedIn</a> </span><span class=links-of-author-item> <a rel="noopener me" title="E-Mail → mailto:luolong0226@163.com" href=mailto:luolong0226@163.com target=_blank><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span></div><div class="cc-license animated" itemprop=license><a class=cc-opacity href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh rel=noopener target=_blank><img alt="Creative Commons" src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg></a></div></div></div></div><div class="sidebar-inner sidebar-blogroll"><div class="links-of-blogroll animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i> 链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=http://blog.csdn.net/tcpipstack rel=noopener target=_blank title=http://blog.csdn.net/tcpipstack>CSDN</a></ul></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=https://www.longluo.me/blog/2022/01/29/fibonacci-sequence/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://www.longluo.me/assets/avatar/sinc_3d_python.png itemprop=image> <meta content="Long Luo" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Long Luo's Life Notes" itemprop=name> <meta content="A Curious Engineer" itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="9 Fibonacci Algorithms: The Most Complete Solutions | Long Luo's Life Notes" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>9 Fibonacci Algorithms: The Most Complete Solutions<a class=post-edit-link href=https://github.com/longluo/blog/tree/master/source/_posts/fibonacci-sequence.md rel=noopener target=_blank title=编辑><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2022-01-29 08:05:27" datetime=2022-01-29T08:05:27+08:00>2022-01-29</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-11-14 22:24:40" datetime=2023-11-14T22:24:40+08:00 itemprop=dateModified>2023-11-14</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/Data-Structures-and-Algorithms/ itemprop=url rel=index><span itemprop=name>Data Structures and Algorithms</span></a> </span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-comment"></i> </span> <span class=post-meta-item-text>Waline：</span> <a href=/blog/2022/01/29/fibonacci-sequence/#waline itemprop=discussionUrl title=waline> <span class="post-comments-count waline-comment-count" data-path=/blog/2022/01/29/fibonacci-sequence/ itemprop=commentCount></span> </a> </span><span class=post-meta-item title=阅读次数> <span class=post-meta-item-icon> <i class="far fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span class=waline-pageview-count data-path=/blog/2022/01/29/fibonacci-sequence/></span> </span><span class=post-meta-break></span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>12k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>11 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><p><strong><em>By Long Luo</em></strong><p>The <span class="math inline">\(\textit{Fibonacci Sequence}\)</span><a class=footnote-ref href=#fn1 id=fnref1 role=doc-noteref><sup>1</sup></a> are the numbers in the following integer sequence:<p><span class="math inline">\(1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, \dots\)</span><figure><img alt="Fibonacci Sequences" src=https://assets.leetcode.com/users/images/38ca0b09-bb5b-4769-92fc-bc58b57e19e2_1647336405.0266523.png><figcaption aria-hidden=true>Fibonacci Sequences</figcaption></figure><p>We can see the fibonacci series seqences in the natrual world like the sunflower, the nautilus and the galaxy.<figure><img alt="Fibonacci Natrual" src=https://assets.leetcode.com/users/images/6879587c-9c7b-445f-b450-478be1ab69a9_1647336416.5666015.jpeg><figcaption aria-hidden=true>Fibonacci Natrual</figcaption></figure><p>In mathematical terms, the sequence <span class="math inline">\(F(n)\)</span> of Fibonacci numbers is defined by the recurrence relation<p><span class="math display">\[ F(n)=F(n-1)+F(n-2) \]</span><p>with seed values <span class="math inline">\(F(0) = 0\)</span> and <span class="math inline">\(F(1) = 1\)</span>.<p>The Fibonacci sequence is often used in introductory computer science courses to explain recurrence relations, dynamic programming, and proofs by induction. Because the Fibonacci sequence is central to several core computer science concepts, the following programming problem has become fairly popular in software engineering interviews.<p>Given an input <span class="math inline">\(n\)</span>, return the <span class="math inline">\(nth\)</span> number in the Fibonacci sequence.<p>Below I’ve listed <span class="math inline">\(9\)</span> approaches to this problem. These different solutions illustrate different programming and algorithmic techniques that can be used to solve other problems. You’ll notice that many of these solutions build from previous solutions.<h1 id=solution-1-lookup-table---32-bit-signed-integers-only>Solution 1 Lookup Table - 32 bit signed integers only</h1><p>If we don’t need to solve very large values and are time-sensitive, we can calculate all values in advance.<p>This function will work strictly in the case that we’re dealing with <span class="math inline">\(32\)</span> bit signed integers (which could be a constraint in languages like Java, C/C++, etc.)<p>The Fibonacci sequence grows very quickly. So fast, that only the first <span class="math inline">\(47\)</span> Fibonacci numbers fit within the range of a <span class="math inline">\(32\)</span> bit signed integer. This method requires only a quick list lookup to find the nth Fibonacci number, so it runs in constant time. Since the list is of fixed length, this method runs in constant space as well.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line><span class=keyword>class</span> <span class="title class_">Solution</span> {</span><br><span class=line>    <span class=type>int</span>[] fib_nums = {</span><br><span class=line>            <span class=number>0</span>, <span class=number>1</span>, <span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>5</span>, <span class=number>8</span>, <span class=number>13</span>, <span class=number>21</span>, <span class=number>34</span>, <span class=number>55</span>, <span class=number>89</span>, <span class=number>144</span>, <span class=number>233</span>, <span class=number>377</span>, <span class=number>610</span>, <span class=number>987</span>, <span class=number>1597</span>, <span class=number>2584</span>, <span class=number>4181</span>,</span><br><span class=line>            <span class=number>6765</span>, <span class=number>10946</span>, <span class=number>17711</span>, <span class=number>28657</span>, <span class=number>46368</span>, <span class=number>75025</span>, <span class=number>121393</span>, <span class=number>196418</span>, <span class=number>317811</span>, <span class=number>514229</span>, <span class=number>832040</span>,</span><br><span class=line>            <span class=number>1346269</span>, <span class=number>2178309</span>, <span class=number>3524578</span>, <span class=number>5702887</span>, <span class=number>9227465</span>, <span class=number>14930352</span>, <span class=number>24157817</span>, <span class=number>39088169</span>, <span class=number>63245986</span>,</span><br><span class=line>            <span class=number>102334155</span>, <span class=number>165580141</span>, <span class=number>267914296</span>, <span class=number>433494437</span>, <span class=number>701408733</span>, <span class=number>1134903170</span>, <span class=number>1836311903</span></span><br><span class=line>    };</span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=type>int</span> <span class="title function_">fib</span><span class=params>(<span class=type>int</span> n)</span> {</span><br><span class=line>        <span class=keyword>return</span> fib_nums[n];</span><br><span class=line>    }</span><br><span class=line>};</span><br></pre></table></figure><h2 id=analysis>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(1)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(1)\)</span></ul><h1 id=solution-2-recursion>Solution 2 Recursion</h1><p>A simple method that is a direct <strong>recursive</strong> implementation mathematical recurrence relation is given above.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=comment>//Fibonacci Series using Recursion</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">fib</span><span class=params>(<span class=type>int</span> n)</span> {</span><br><span class=line>	<span class=keyword>if</span> (n <= <span class=number>1</span>) {</span><br><span class=line>		<span class=keyword>return</span> n;</span><br><span class=line>	}</span><br><span class=line></span><br><span class=line>	<span class=keyword>return</span> fib(n - <span class=number>1</span>) + fib(n - <span class=number>2</span>);</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-1>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(\phi^n)\)</span>, where <span class="math inline">\(\phi\)</span> is the golden ratio (<span class="math inline">\(\phi \simeq 1.618...\)</span>).</ul><p>If we count the number of calls that this algorithm makes for any n, we will find its runtime complexity.<p>Let <span class="math inline">\(T(n)\)</span> refer to the number of calls to fib1 that are required to evaluate fib1(n).<p>When fib1(0) or fib1(1) is called, fib1 doesn’t make any additional recursive calls, so <span class="math inline">\(T(0)\)</span> and <span class="math inline">\(T(1)\)</span> must equal 1.<p>For any other n, when fib1(n) is called, fib1(n - 1) and fib1(n - 2) are also called.<p>So<p><span class="math display">\[ T(n) = 1 + T(n - 1) + T(n - 2) \]</span><p>Using more advanced mathematical techniques, like generating functions, one can solve the recurrence <span class="math inline">\(T\)</span>, and find that <span class="math inline">\(T\)</span> scales as <span class="math inline">\(O(\phi)\)</span>.<p>If the original recursion tree were to be implemented then this would have been the tree but now for n times the recursion function is called.<p>Original tree for recursion:<figure class="highlight txt"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line>                          fib(5)   </span><br><span class=line>                     /                \</span><br><span class=line>               fib(4)                fib(3)   </span><br><span class=line>             /        \              /       \ </span><br><span class=line>         fib(3)      fib(2)         fib(2)   fib(1)</span><br><span class=line>        /    \       /    \        /      \</span><br><span class=line>  fib(2)   fib(1)  fib(1) fib(0) fib(1) fib(0)</span><br><span class=line>  /     \</span><br><span class=line>fib(1) fib(0)</span><br></pre></table></figure><p>Optimized tree for recursion for code above:<figure class="highlight txt"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>fib(5) </span><br><span class=line>fib(4)</span><br><span class=line>fib(3)</span><br><span class=line>fib(2)</span><br><span class=line>fib(1)</span><br></pre></table></figure><ul><li><strong>Space Complexity</strong>: <span class="math inline">\(O(n)\)</span> if we consider the function call stack size, otherwise <span class="math inline">\(O(1)\)</span>.</ul><span id=more></span><h1 id=solution-3-dynamic-programming>Solution 3 Dynamic Programming</h1><p>We can avoid the repeated work done in <strong>Recursion</strong> solution by storing the Fibonacci numbers calculated so far.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br></pre><td class=code><pre><span class=line><span class=comment>// Dynamic Programming</span></span><br><span class=line><span class=keyword>public</span> <span class=type>int</span> <span class="title function_">fib</span><span class=params>(<span class=type>int</span> n)</span> {</span><br><span class=line>	<span class=comment>/* Declare an array to store Fibonacci numbers. */</span></span><br><span class=line>	<span class=type>int</span> f[] = <span class=keyword>new</span> <span class="title class_">int</span>[n + <span class=number>1</span>]; <span class=comment>// 1 extra to handle case, n = 0</span></span><br><span class=line>	<span class=type>int</span> i;</span><br><span class=line></span><br><span class=line>	<span class=comment>/* 0th and 1st number of the series are 0 and 1*/</span></span><br><span class=line>	f[<span class=number>0</span>] = <span class=number>1</span>;</span><br><span class=line>	f[<span class=number>1</span>] = <span class=number>1</span>;</span><br><span class=line></span><br><span class=line>	<span class=keyword>for</span> (i = <span class=number>2</span>; i <= n; i++) {</span><br><span class=line>		<span class=comment>/* Add the previous 2 numbers in the series and store it */</span></span><br><span class=line>		f[i] = f[i - <span class=number>1</span>] + f[i - <span class=number>2</span>];</span><br><span class=line>	}</span><br><span class=line></span><br><span class=line>	<span class=keyword>return</span> f[n];</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-2>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(n)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(n)\)</span></ul><h1 id=solution-4-dp-using-memoizationtop-down-approach>Solution 4 DP using memoization(Top down approach)</h1><p>We can avoid the repeated work done in Solution 2 Recursion by storing the Fibonacci numbers calculated so far. We just need to store all the values in an array.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line><span class=comment>// Initialize array of dp</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span>[] dp = <span class=keyword>new</span> <span class="title class_">int</span>[<span class=number>31</span>];</span><br><span class=line></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">fib</span><span class=params>(<span class=type>int</span> n)</span> {</span><br><span class=line>    <span class=keyword>if</span> (n <= <span class=number>1</span>) {</span><br><span class=line>        <span class=keyword>return</span> n;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=comment>// Temporary variables to store values of fib(n-1) & fib(n-2)</span></span><br><span class=line>    <span class=type>int</span> first, second;</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (dp[n - <span class=number>1</span>] != -<span class=number>1</span>) {</span><br><span class=line>        first = dp[n - <span class=number>1</span>];</span><br><span class=line>    } <span class=keyword>else</span> {</span><br><span class=line>        first = fib(n - <span class=number>1</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (dp[n - <span class=number>2</span>] != -<span class=number>1</span>) {</span><br><span class=line>        second = dp[n - <span class=number>2</span>];</span><br><span class=line>    } <span class=keyword>else</span> {</span><br><span class=line>        second = fib(n - <span class=number>2</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=comment>// Memoization</span></span><br><span class=line>    <span class=keyword>return</span> dp[n] = first + second;</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-3>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(n)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(n)\)</span></ul><h1 id=solution-5-iterative-space-optimized-method-3>Solution 5 Iterative (Space Optimized Method 3)</h1><p>We can optimize the space used in Solution 3 Dynamic Programming by storing the previous two numbers only because that is all we need to get the next Fibonacci number in series.<p>This solution is one of the simplest and most efficient algorithms on this list. This function has a loop that runs through n iterations before returning, and each iteration does constant work, making the algorithm run in <span class="math inline">\(O(n)\)</span> time. This function doesn’t use any extra data structures, and it isn’t recursive, so we can say that it uses <span class="math inline">\(O(1)\)</span> space.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre><td class=code><pre><span class=line><span class=comment>// Fibonacci Series using Space Optimized Method</span></span><br><span class=line><span class=keyword>class</span> <span class="title class_">Solution</span> {</span><br><span class=line>    <span class=keyword>public</span> <span class=type>int</span> <span class="title function_">fib</span><span class=params>(<span class=type>int</span> n)</span> {</span><br><span class=line>        <span class=keyword>if</span> (n < <span class=number>2</span>) {</span><br><span class=line>            <span class=keyword>return</span> n;</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span> <span class=variable>p</span> <span class=operator>=</span> <span class=number>0</span>, q = <span class=number>0</span>, r = <span class=number>1</span>;</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>2</span>; i <= n; ++i) {</span><br><span class=line>            p = q; </span><br><span class=line>            q = r; </span><br><span class=line>            r = p + q;</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> r;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-4>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(n)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(1)\)</span></ul><h1 id=solution-6-recurrence-matrix>Solution 6 Recurrence Matrix</h1><p>This is the most mathematical solution, and it requires some basic understanding of matrix multiplication.<p>Consider the following matrix <span class="math inline">\(M\)</span>:<p><span class="math display">\[ M = \begin{bmatrix} 1 & 1 \\ 1 & 0 \\ \end{bmatrix} \]</span><p>If <span class="math inline">\(f_{i-1}\)</span> and <span class="math inline">\(f_{i-2}\)</span> are the <span class="math inline">\(i-1\)</span>th and the <span class="math inline">\(i-2\)</span>th Fibonacci numbers, the following matrix product can give us the ith Fibonacci number <span class="math inline">\(f_{i}\)</span>:<p><span class="math display">\[ M * \begin{bmatrix} f_{i - 2} \\ f_{i - 1} \end{bmatrix} = \begin{bmatrix} f_{i - 1} \\ f_{i - 1} + f_{i - 2} \end{bmatrix} = \begin{bmatrix} f_{i - 1} \\ f_{i} \end{bmatrix} \]</span><p>Using this property of <span class="math inline">\(M\)</span>, one can find <span class="math inline">\(f_{n}\)</span> by computing the product<p><span class="math display">\[ M^n \cdot \begin{bmatrix} f_0 \\ f_1 \end{bmatrix} = M^n \cdot \begin{bmatrix} 0 \\ 1 \end{bmatrix} \]</span><p>and returning the first element of the vector.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br></pre><td class=code><pre><span class=line><span class=keyword>class</span> <span class="title class_">Solution</span> {</span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">fib</span><span class=params>(<span class=type>int</span> n)</span> {</span><br><span class=line>        <span class=type>int</span> F[][] = <span class=keyword>new</span> <span class="title class_">int</span>[][]{{<span class=number>1</span>, <span class=number>1</span>}, {<span class=number>1</span>, <span class=number>0</span>}};</span><br><span class=line>        <span class=keyword>if</span> (n == <span class=number>0</span>) {</span><br><span class=line>            <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>        }</span><br><span class=line>        power(F, n - <span class=number>1</span>);</span><br><span class=line>        <span class=keyword>return</span> F[<span class=number>0</span>][<span class=number>0</span>];</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=comment>/* Helper function that multiplies 2 matrices F and M of size 2*2, and</span></span><br><span class=line><span class=comment>    puts the multiplication result back to F[][] */</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">multiply</span><span class=params>(<span class=type>int</span> F[][], <span class=type>int</span> M[][])</span> {</span><br><span class=line>        <span class=type>int</span> <span class=variable>x</span> <span class=operator>=</span> F[<span class=number>0</span>][<span class=number>0</span>] * M[<span class=number>0</span>][<span class=number>0</span>] + F[<span class=number>0</span>][<span class=number>1</span>] * M[<span class=number>1</span>][<span class=number>0</span>];</span><br><span class=line>        <span class=type>int</span> <span class=variable>y</span> <span class=operator>=</span> F[<span class=number>0</span>][<span class=number>0</span>] * M[<span class=number>0</span>][<span class=number>1</span>] + F[<span class=number>0</span>][<span class=number>1</span>] * M[<span class=number>1</span>][<span class=number>1</span>];</span><br><span class=line>        <span class=type>int</span> <span class=variable>z</span> <span class=operator>=</span> F[<span class=number>1</span>][<span class=number>0</span>] * M[<span class=number>0</span>][<span class=number>0</span>] + F[<span class=number>1</span>][<span class=number>1</span>] * M[<span class=number>1</span>][<span class=number>0</span>];</span><br><span class=line>        <span class=type>int</span> <span class=variable>w</span> <span class=operator>=</span> F[<span class=number>1</span>][<span class=number>0</span>] * M[<span class=number>0</span>][<span class=number>1</span>] + F[<span class=number>1</span>][<span class=number>1</span>] * M[<span class=number>1</span>][<span class=number>1</span>];</span><br><span class=line></span><br><span class=line>        F[<span class=number>0</span>][<span class=number>0</span>] = x;</span><br><span class=line>        F[<span class=number>0</span>][<span class=number>1</span>] = y;</span><br><span class=line>        F[<span class=number>1</span>][<span class=number>0</span>] = z;</span><br><span class=line>        F[<span class=number>1</span>][<span class=number>1</span>] = w;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=comment>/* Helper function that calculates F[][] raise to the power n and puts the</span></span><br><span class=line><span class=comment>    result in F[][]</span></span><br><span class=line><span class=comment>    Note that this function is designed only for fib() and won't work as general</span></span><br><span class=line><span class=comment>    power function */</span></span><br><span class=line>    <span class=keyword>public</span> <span class=keyword>static</span> <span class=keyword>void</span> <span class="title function_">power</span><span class=params>(<span class=type>int</span> F[][], <span class=type>int</span> n)</span> {</span><br><span class=line>        <span class=type>int</span> i;</span><br><span class=line>        <span class=type>int</span> M[][] = <span class=keyword>new</span> <span class="title class_">int</span>[][]{{<span class=number>1</span>, <span class=number>1</span>}, {<span class=number>1</span>, <span class=number>0</span>}};</span><br><span class=line></span><br><span class=line>        <span class=comment>// n - 1 times multiply the matrix to {{1,0},{0,1}}</span></span><br><span class=line>        <span class=keyword>for</span> (i = <span class=number>2</span>; i <= n; i++) {</span><br><span class=line>            multiply(F, M);</span><br><span class=line>        }</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-5>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(n)\)</span><li><strong>Space Complexity</strong>: <span class="math inline">\(O(1)\)</span></ul><h1 id=solution-7-fast-matrix-poweroptimized-method-6>Solution 7 Fast Matrix Power(Optimized Method 6)</h1><p>The Solution 6 Recurrence Matrix can be optimized to work in <span class="math inline">\(O(logn)\)</span> time complexity. We can do recursive multiplication to get <span class="math inline">\(\texttt{power}(M, n)\)</span> in the previous method (Similar to the optimization done in this post).<p>The key here is to compute <span class="math inline">\(M^n\)</span> using the successive square method. Using this algorithm, <span class="math inline">\(M^n\)</span> is computed in <span class="math inline">\(O(logn)\)</span> time(Note that for a fixed matrix size, the matrix muliplication algorithm takes a constant amount of time).<p>Then, <span class="math inline">\(M^n\)</span> is multiplied by <span class="math inline">\(\begin{bmatrix} 0 \\ 1 \end{bmatrix}\)</span>, and the top elemen of the product is returned.<p>This algorithm uses <span class="math inline">\(O(logn)\)</span> to compute <span class="math inline">\(M^n\)</span>, and constant space, as the intermediary matricies can be reclaimed by the garbage collecter.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br></pre><td class=code><pre><span class=line><span class=keyword>class</span> <span class="title class_">Solution</span> {</span><br><span class=line>    <span class=keyword>public</span> <span class=type>int</span> <span class="title function_">fib</span><span class=params>(<span class=type>int</span> n)</span> {</span><br><span class=line>        <span class=keyword>if</span> (n < <span class=number>2</span>) {</span><br><span class=line>            <span class=keyword>return</span> n;</span><br><span class=line>        }</span><br><span class=line>        <span class=type>int</span>[][] q = {{<span class=number>1</span>, <span class=number>1</span>}, {<span class=number>1</span>, <span class=number>0</span>}};</span><br><span class=line>        <span class=type>int</span>[][] res = pow(q, n - <span class=number>1</span>);</span><br><span class=line>        <span class=keyword>return</span> res[<span class=number>0</span>][<span class=number>0</span>];</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=type>int</span>[][] pow(<span class=type>int</span>[][] a, <span class=type>int</span> n) {</span><br><span class=line>        <span class=type>int</span>[][] ret = {{<span class=number>1</span>, <span class=number>0</span>}, {<span class=number>0</span>, <span class=number>1</span>}};</span><br><span class=line>        <span class=keyword>while</span> (n > <span class=number>0</span>) {</span><br><span class=line>            <span class=keyword>if</span> ((n & <span class=number>1</span>) == <span class=number>1</span>) {</span><br><span class=line>                ret = multiply(ret, a);</span><br><span class=line>            }</span><br><span class=line>            n >>= <span class=number>1</span>;</span><br><span class=line>            a = multiply(a, a);</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> ret;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>public</span> <span class=type>int</span>[][] multiply(<span class=type>int</span>[][] a, <span class=type>int</span>[][] b) {</span><br><span class=line>        <span class=type>int</span>[][] c = <span class=keyword>new</span> <span class="title class_">int</span>[<span class=number>2</span>][<span class=number>2</span>];</span><br><span class=line>        <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>i</span> <span class=operator>=</span> <span class=number>0</span>; i < <span class=number>2</span>; i++) {</span><br><span class=line>            <span class=keyword>for</span> (<span class=type>int</span> <span class=variable>j</span> <span class=operator>=</span> <span class=number>0</span>; j < <span class=number>2</span>; j++) {</span><br><span class=line>                c[i][j] = a[i][<span class=number>0</span>] * b[<span class=number>0</span>][j] + a[i][<span class=number>1</span>] * b[<span class=number>1</span>][j];</span><br><span class=line>            }</span><br><span class=line>        }</span><br><span class=line>        <span class=keyword>return</span> c;</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-6>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(logn)\)</span>.<li><strong>Space Complexity</strong>: <span class="math inline">\(O(logn)\)</span>, if we consider the function call stack size, otherwise <span class="math inline">\(O(1)\)</span>.</ul><h1 id=solution-8-ologn-time>Solution 8 O(logn) Time</h1><p>Below is one more interesting recurrence formula that can be used to find nth Fibonacci number in <span class="math inline">\(O(logn)\)</span> time.<p>If <span class="math inline">\(n\)</span> is even then <span class="math inline">\(k = n/2\)</span>:<p><span class="math display">\[ F(n) = [2F(k-1) + F(k)] \cdot F(k) \]</span><p>If <span class="math inline">\(n\)</span> is odd then <span class="math inline">\(k = (n + 1)/2\)</span><p><span class="math display">\[ F(n) = F(k)F(k) + F(k-1)F(k-1) \]</span><p>How does this formula work?<p>The formula can be derived from above matrix equation.<p><span class="math display">\[ A^n=\begin{pmatrix} F_{n+1},&F_n \\ F_n,&F_{n-1} \end{pmatrix} \]</span><p>Taking determinant on both sides, we get:<p><span class="math display">\[ (-1)^n = F_{n+1}F_{n-1} - F_n^2 \]</span><p>Moreover, since <span class="math inline">\(A^nA^m = A^{n+m}\)</span> for any square matrix <span class="math inline">\(A\)</span>, the following identities can be derived (they are obtained form two different coefficients of the matrix product)<p><span class="math display">\[ F_mF_n + F_{m-1}F_{n-1} = F_{m+n-1} ------(8.1) \]</span><p>By putting <span class="math inline">\(n=n+1\)</span> in equation (8.1),<p><span class="math display">\[ F_mF_{n+1} + F_{m-1}F_n = F_{m+n} ------(8.2) \]</span><p>Putting <span class="math inline">\(m = n\)</span> in equation(8.1).<p><span class="math display">\[ F_{2n-1} = F_n^2 + F_{n-1}^2 \]</span><p>Putting <span class="math inline">\(m = n\)</span> in equation(8.2)<p>By putting: <span class="math inline">\(F_{n+1} = F_n + F_{n-1}\)</span><p><span class="math display">\[ F_{2n} = (F_{n-1} + F_{n+1})Fn = (2F_{n-1} + F_n)F_n \]</span><p>To get the formula to be proved, we simply need to do the following<p>If <span class="math inline">\(n\)</span> is even, we can put <span class="math inline">\(k = n/2\)</span> If <span class="math inline">\(n\)</span> is odd, we can put <span class="math inline">\(k = (n+1)/2\)</span><p>Below is the implementation of above idea.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class=variable>MAX</span> <span class=operator>=</span> <span class=number>1000</span>;</span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> f[];</span><br><span class=line></span><br><span class=line><span class=comment>// Returns n'th fibonacci number using</span></span><br><span class=line><span class=comment>// table f[]</span></span><br><span class=line><span class=keyword>public</span> <span class=keyword>static</span> <span class=type>int</span> <span class="title function_">fib</span><span class=params>(<span class=type>int</span> n)</span> {</span><br><span class=line>    <span class=keyword>if</span> (n == <span class=number>0</span>) {</span><br><span class=line>        <span class=keyword>return</span> <span class=number>0</span>;</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=keyword>if</span> (n == <span class=number>1</span> || n == <span class=number>2</span>) {</span><br><span class=line>        <span class=keyword>return</span> (f[n] = <span class=number>1</span>);</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=comment>// If fib(n) is already computed</span></span><br><span class=line>    <span class=keyword>if</span> (f[n] != <span class=number>0</span>) {</span><br><span class=line>        <span class=keyword>return</span> f[n];</span><br><span class=line>    }</span><br><span class=line></span><br><span class=line>    <span class=type>int</span> <span class=variable>k</span> <span class=operator>=</span> (n & <span class=number>1</span>) == <span class=number>1</span> ? (n + <span class=number>1</span>) / <span class=number>2</span> : n / <span class=number>2</span>;</span><br><span class=line></span><br><span class=line>    <span class=comment>// Applying above formula [Note value n&1 is 1 if n is odd, else 0.</span></span><br><span class=line>    f[n] = (n & <span class=number>1</span>) == <span class=number>1</span> ? (fib(k) * fib(k) + fib(k - <span class=number>1</span>) * fib(k - <span class=number>1</span>)) : (<span class=number>2</span> * fib(k - <span class=number>1</span>) + fib(k)) * fib(k);</span><br><span class=line></span><br><span class=line>    <span class=keyword>return</span> f[n];</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-7>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(logn)\)</span> as we divide the problem to half in every recursive call.<li><strong>Space Complexity</strong>: <span class="math inline">\(O(logn)\)</span></ul><h1 id=solution-9-math-formula>Solution 9 Math Formula</h1><p>We first look at the equation:<p><span class="math display">\[ F(n)=F(n-1)+F(n-2) ------(9.1) \]</span><p>To solve (9.1) for the Fibonacci numbers, we first look at the equation<p><span class="math display">\[ x_{n+1} = x_n + x_{n-1} ------(9.2) \]</span><p>This equation is called a second-order, linear, homogeneous difference equation with constant coefficients, and its method of solution closely follows that of the analogous differential equation.<p>Our idea is to guess the general form of a solution, find two such solutions, and then multiply these solutions by unknown constants and add them. This results in a general solution to (9.2), and one can then solve by satisfying the specified initial values.<p>To begin, we guess the form of the solution as<p><span class="math display">\[ x_n = λ^n ------(9.3) \]</span><p>where <span class="math inline">\(λ\)</span> is an unknown constant.<p>Substitution of this guess into the equation, results in:<p><span class="math display">\[ λ^{n+1} = λ^n + λ^{n-1} \]</span><p>or upon division by <span class="math inline">\(λ^{n-1}\)</span> and rearrangement of terms,<p><span class="math display">\[ λ^2 - λ - 1 = 0 \]</span><p>Use of the quadratic formula yields two roots, both of which are already familiar. We have:<p><span class="math display">\[ λ_1 = \frac{1+\sqrt{5}}{2} \]</span><p><span class="math display">\[ λ_2 = \frac{1-\sqrt{5}}{2} \]</span><p>We have thus found two independent solutions to (9.2) of the form (9.3), and we can now use these two solutions to find a solution to (9.1). Multiplying the solutions by constants and adding them, we obatin:<p><span class="math display">\[ F(n)=c_1λ_1^n + c_2λ_2^n \]</span><p>which must satisfy the initial values <span class="math inline">\(F(0)=1\)</span>，<span class="math inline">\(F(1)=1\)</span>.<p>Application of the values for <span class="math inline">\(F0\)</span> and <span class="math inline">\(F1\)</span> results in the system of equations given by<p><span class="math display">\[ c_1 + c_2 = 0 \]</span><p><span class="math display">\[ c_1λ_1 - c_2λ_2 = 1 \]</span><p>we can solve for <span class="math inline">\(c_1\)</span> and <span class="math inline">\(c_2\)</span> to obtain:<p><span class="math inline">\(c_1 = \frac{1}{\sqrt{5}}\)</span>，<span class="math inline">\(c_2 = -\frac{1}{\sqrt{5}}\)</span>.<p>then derives the surprising formula:<p><span class="math display">\[ F(n)=\frac{1}{\sqrt{5}}\left[ \left(\frac{1+\sqrt{5}}{2}\right)^{n} - \left(\frac{1-\sqrt{5}}{2}\right)^{n} \right] \]</span><p>known as <strong>Binet’s formula</strong>.<p>In this method we directly implement the formula for nth term in the fibonacci series.<figure class="highlight java"><table><tbody><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>class</span> <span class="title class_">Solution</span> {</span><br><span class=line>    <span class=keyword>public</span> <span class=type>int</span> <span class="title function_">fib</span><span class=params>(<span class=type>int</span> n)</span> {</span><br><span class=line>        <span class=type>double</span> <span class=variable>sqrt5</span> <span class=operator>=</span> Math.sqrt(<span class=number>5</span>);</span><br><span class=line>        <span class=type>double</span> <span class=variable>fibN</span> <span class=operator>=</span> Math.pow((<span class=number>1</span> + sqrt5) / <span class=number>2</span>, n) - Math.pow((<span class=number>1</span> - sqrt5) / <span class=number>2</span>, n);</span><br><span class=line>        <span class=keyword>return</span> (<span class=type>int</span>) Math.round(fibN / sqrt5);</span><br><span class=line>    }</span><br><span class=line>}</span><br></pre></table></figure><h2 id=analysis-8>Analysis</h2><ul><li><strong>Time Complexity</strong>: <span class="math inline">\(O(logn)\)</span>, this is because calculating <span class="math inline">\(phi^n\)</span> takes <span class="math inline">\(logn\)</span> time<li><strong>Space Complexity</strong>: <span class="math inline">\(O(1)\)</span>.</ul><h1 id=references>References</h1><hr><p>All suggestions are welcome. If you have any query or suggestion please comment below. Please upvote👍 if you like💗 it. Thank you:-)<p>Explore More <a href=http://www.longluo.me/blog/2020/12/09/Leetcode-Solutions/>Leetcode Solutions</a>. 😉😃💗<section class="footnotes footnotes-end-of-document" id=footnotes role=doc-endnotes><hr><ol><li id=fn1><p><a href=https://en.wikipedia.org/wiki/Fibonacci_number rel=noopener target=_blank>Wiki: Fibonacci Number</a><a class=footnote-back href=#fnref1 role=doc-backlink>↩︎</a></ol></section></div><footer class=post-footer><div class=reward-container><div>请我一杯咖啡吧！</div><button>赞赏</button><div class=post-reward><div><img alt="Long Luo 微信" src=https://www.longluo.me/assets/reward/wechatpay.jpeg><span>微信</span></div><div><img alt="Long Luo 支付宝" src=https://www.longluo.me/assets/reward/alipay.jpeg><span>支付宝</span></div></div></div><div class=post-copyright><ul><li class=post-copyright-author><strong>本文作者： </strong>Long Luo<li class=post-copyright-link><strong>本文链接：</strong> <a title="9 Fibonacci Algorithms: The Most Complete Solutions" href=https://www.longluo.me/blog/2022/01/29/fibonacci-sequence/>https://www.longluo.me/blog/2022/01/29/fibonacci-sequence/</a><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh rel=noopener target=_blank><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a class=social-link href=/atom.xml target=_blank> <span class=icon> <i class="fa fa-rss"></i> </span> <span class=label>RSS</span> </a></div></div></div><div class=post-tags><a href=/tags/Math/ rel=tag># Math</a><a href=/tags/Algorithm/ rel=tag># Algorithm</a><a href=/tags/Recursion/ rel=tag># Recursion</a><a href=/tags/Fibonacci/ rel=tag># Fibonacci</a><a href=/tags/Dynamic-Programming/ rel=tag># Dynamic Programming</a><a href=/tags/Matrix/ rel=tag># Matrix</a></div><div class=post-nav><div class=post-nav-item><a title="[LeetCode][171. Excel Sheet Column Number] 2 Approaches: Base Conversion from High to Low and from Low to High" href=/blog/2022/01/20/leetcode-excel-sheet-column-number/ rel=prev> <i class="fa fa-angle-left"></i> [LeetCode][171. Excel Sheet Column Number] 2 Approaches: Base Conversion from High to Low and from Low to High </a></div><div class=post-nav-item><a title="[LeetCode][136. Single Number] The XOR Cheat Sheet | Bit Manipulation with Easy Detailed Explanation" href=/blog/2022/02/01/leetcode-single-number/ rel=next> [LeetCode][136. Single Number] The XOR Cheat Sheet | Bit Manipulation with Easy Detailed Explanation <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div><div class=comments id=waline></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2013 – <span itemprop=copyrightYear>2024</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Long Luo</span></div><div class=wordcount><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-chart-line"></i> </span> <span title=站点总字数>1.5m</span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span> <span title=站点阅读时长>22:18</span> </span></div><div class=busuanzi-count><span class=post-meta-item id=busuanzi_container_site_uv> <span class=post-meta-item-icon> <i class="fa fa-user"></i> </span> <span class=site-uv title=总访客量> <span id=busuanzi_value_site_uv></span> </span> </span><span class=post-meta-item id=busuanzi_container_site_pv> <span class=post-meta-item-icon> <i class="fa fa-eye"></i> </span> <span class=site-pv title=总访问量> <span id=busuanzi_value_site_pv></span> </span> </span></div><div class=powered-by>由 <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/pisces/ rel=noopener target=_blank>NexT.Pisces</a> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label=返回顶部 class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><a class="book-mark-link book-mark-link-fixed" role=button></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin=anonymous integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/comments.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/utils.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/motion.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/sidebar.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/next-boot.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/bookmark.min.js></script><script crossorigin=anonymous integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/search/local-search.min.js></script><script async src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><script class=next-config data-name=enableMath type=application/json>true</script><script class=next-config data-name=mathjax type=application/json>{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.20.0/third-party/math/mathjax.min.js></script><script class=next-config data-name=waline type=application/json>{"lang":"zh-CN","enable":true,"serverURL":"https://waline.longluo.me/","cssUrl":"https://unpkg.com/@waline/client@2.15.8/dist/waline.css","commentCount":true,"pageview":true,"libUrl":"https://unpkg.com/@waline/client@2.15.8/dist/waline.js","locale":{"placeholder":"欢迎大家的留言和评论！(评论只需要填昵称即可。) Welcome to comment"},"emoji":["https://unpkg.com/@waline/emojis@1.0.1/qq"],"meta":["nick","mail","link"],"requiredMeta":[["nick"]],"wordLimit":0,"pageSize":10,"el":"#waline","comment":true,"path":"/blog/2022/01/29/fibonacci-sequence/"}</script><link href=https://unpkg.com/@waline/client@2.15.8/dist/waline.css rel=stylesheet><script>document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});</script>