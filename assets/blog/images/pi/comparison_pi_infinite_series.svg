<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="-28 -22 456 228">
 <title>comparison pi infinite series</title>
 <desc>Comparison of the convergence of several historical infinite series for pi, by CMG Lee. ''Sn'' is the approximation of after taking ''n'' terms. Each subsequent subplot is horizontally magnifies the shaded area by 10 times. The lines merely connect points of each series; there are no intermediate values between terms.</desc>
 <defs>
  <pattern id="pattern_grid_1" patternUnits="userSpaceOnUse" width="10" height="10">
   <rect x="0" y="0" width="10" height="10" stroke="#cccccc" stroke-width="0.5" fill="none"/>
  </pattern>
  <pattern id="pattern_grid_5" patternUnits="userSpaceOnUse" width="50" height="50">
   <rect x="0" y="0" width="50" height="50" stroke="#999999" stroke-width="0.5" fill="url(#pattern_grid_1)"/>
  </pattern>
  <rect id="frame_0" x="0" y="0" width="154" height="200"/>
  <clipPath id="clip_0"><use xlink:href="#frame_0"/></clipPath>
  <rect id="frame_1" x="0" y="0" width="49" height="200"/>
  <clipPath id="clip_1"><use xlink:href="#frame_1"/></clipPath>
  <rect id="frame_2" x="0" y="0" width="50" height="200"/>
  <clipPath id="clip_2"><use xlink:href="#frame_2"/></clipPath>
  <rect id="frame_3" x="0" y="0" width="49" height="200"/>
  <clipPath id="clip_3"><use xlink:href="#frame_3"/></clipPath>
  <g id="y_labels" transform="translate(-9,3)">
   <text x="0" y="20">2</text>
   <text x="0" y="40">4</text>
   <text x="0" y="60">6</text>
   <text x="0" y="80">8</text>
   <text x="0" y="100">10</text>
   <text x="0" y="120">12</text>
   <text x="0" y="140">14</text>
   <text x="0" y="160">16</text>
   <text x="0" y="180">18</text>
   <text x="0" y="200">20</text>
   <text x="-13" y="110" font-style="italic">n</text>
  </g>
  <path id="tick" d="M 0,-3 V 0" stroke="#cccccc"/>
  <path id="marker_vi" d="M -3,-3 L 3,3 M -3,3 L 3,-3"/>
  <path id="marker_wa" d="M -3,0 H 3 M -2,-3 L 2,3 M -2,3 L 2,-3"/>
  <path id="marker_ma" d="M 0,-3 L 3,2 H -3 Z"/>
  <path id="marker_ne" d="M 0,3 L 3,-2 H -3 Z"/>
  <rect id="marker_mg" x="-2" y="-2" width="4" height="4"/>
  <circle id="marker_ni" cx="0" cy="0" r="3"/>
 </defs>
 <g font-family="sans-serif" font-size="10" text-anchor="middle" stroke-linejoin="round" stroke-linecap="round" stroke="none" fill="none">
  <rect x="-4999" y="-4999" width="9999" height="9999" fill="#ffffff"/>
  <g transform="translate(0,0)">
   <use xlink:href="#frame_0" fill="url(#pattern_grid_5)"/>
   <g fill="#000000">
     <use xlink:href="#tick" transform="translate(10,0)"/>
     <text transform="translate(10,-4) scale(0.8,1)" x="0" y="0">2.6</text>
     <use xlink:href="#tick" transform="translate(30,0)"/>
     <text transform="translate(30,-4) scale(0.8,1)" x="0" y="0">2.8</text>
     <use xlink:href="#tick" transform="translate(50,0)"/>
     <text transform="translate(50,-4) scale(0.8,1)" x="0" y="0">3.0</text>
     <use xlink:href="#tick" transform="translate(70,0)"/>
     <text transform="translate(70,-4) scale(0.8,1)" x="0" y="0">3.2</text>
     <use xlink:href="#tick" transform="translate(90,0)"/>
     <text transform="translate(90,-4) scale(0.8,1)" x="0" y="0">3.4</text>
     <use xlink:href="#tick" transform="translate(110,0)"/>
     <text transform="translate(110,-4) scale(0.8,1)" x="0" y="0">3.6</text>
     <use xlink:href="#tick" transform="translate(130,0)"/>
     <text transform="translate(130,-4) scale(0.8,1)" x="0" y="0">3.8</text>
     <use xlink:href="#tick" transform="translate(150,0)"/>
     <text transform="translate(150,-4) scale(0.8,1)" x="0" y="0">4.0</text>
    <text x="77" y="-14" font-style="italic"><tspan>S</tspan><tspan dy="1">n</tspan></text>
    <use xlink:href="#y_labels"/>
   </g>
   <rect x="62.000" y="-2" width="5.000" height="210" rx="3" ry="3" fill="#cccccc"/>
   <path d="M 67.000,5 H 175 m -3,-3 l 3,3 l -3,3" stroke="#666666"/>
   <g stroke="#cc0000">
    <use xlink:href="#marker_vi" transform="translate(32.843,10)"/>
    <use xlink:href="#marker_vi" transform="translate(56.147,20)"/>
    <use xlink:href="#marker_vi" transform="translate(62.145,30)"/>
    <use xlink:href="#marker_vi" transform="translate(63.655,40)"/>
    <use xlink:href="#marker_vi" transform="translate(64.033,50)"/>
    <use xlink:href="#marker_vi" transform="translate(64.128,60)"/>
    <use xlink:href="#marker_vi" transform="translate(64.151,70)"/>
    <use xlink:href="#marker_vi" transform="translate(64.157,80)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,90)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,100)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,110)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,120)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,130)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,140)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,150)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,160)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,170)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,180)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,190)"/>
    <use xlink:href="#marker_vi" transform="translate(64.159,200)"/>
    <path d="M 32.843,10 L 56.147,20 L 62.145,30 L 63.655,40 L 64.033,50 L 64.128,60 L 64.151,70 L 64.157,80 L 64.159,90 L 64.159,100 L 64.159,110 L 64.159,120 L 64.159,130 L 64.159,140 L 64.159,150 L 64.159,160 L 64.159,170 L 64.159,180 L 64.159,190 L 64.159,200" stroke-dasharray="9,2,1,2" clip-path="url(#clip_0)"/>
   </g>
   <g stroke="#cc00ff">
    <use xlink:href="#marker_wa" transform="translate(16.667,10)"/>
    <use xlink:href="#marker_wa" transform="translate(34.444,20)"/>
    <use xlink:href="#marker_wa" transform="translate(42.571,30)"/>
    <use xlink:href="#marker_wa" transform="translate(47.215,40)"/>
    <use xlink:href="#marker_wa" transform="translate(50.218,50)"/>
    <use xlink:href="#marker_wa" transform="translate(52.317,60)"/>
    <use xlink:href="#marker_wa" transform="translate(53.867,70)"/>
    <use xlink:href="#marker_wa" transform="translate(55.059,80)"/>
    <use xlink:href="#marker_wa" transform="translate(56.003,90)"/>
    <use xlink:href="#marker_wa" transform="translate(56.770,100)"/>
    <use xlink:href="#marker_wa" transform="translate(57.406,110)"/>
    <use xlink:href="#marker_wa" transform="translate(57.940,120)"/>
    <use xlink:href="#marker_wa" transform="translate(58.396,130)"/>
    <use xlink:href="#marker_wa" transform="translate(58.790,140)"/>
    <use xlink:href="#marker_wa" transform="translate(59.134,150)"/>
    <use xlink:href="#marker_wa" transform="translate(59.436,160)"/>
    <use xlink:href="#marker_wa" transform="translate(59.704,170)"/>
    <use xlink:href="#marker_wa" transform="translate(59.943,180)"/>
    <use xlink:href="#marker_wa" transform="translate(60.158,190)"/>
    <use xlink:href="#marker_wa" transform="translate(60.352,200)"/>
    <path d="M 16.667,10 L 34.444,20 L 42.571,30 L 47.215,40 L 50.218,50 L 52.317,60 L 53.867,70 L 55.059,80 L 56.003,90 L 56.770,100 L 57.406,110 L 57.940,120 L 58.396,130 L 58.790,140 L 59.134,150 L 59.436,160 L 59.704,170 L 59.943,180 L 60.158,190 L 60.352,200" stroke-dasharray="9,2,1,2,1,2" clip-path="url(#clip_0)"/>
   </g>
   <g stroke="#0099ff">
    <use xlink:href="#marker_mg" transform="translate(150.000,10)"/>
    <use xlink:href="#marker_mg" transform="translate(16.667,20)"/>
    <use xlink:href="#marker_mg" transform="translate(96.667,30)"/>
    <use xlink:href="#marker_mg" transform="translate(39.524,40)"/>
    <use xlink:href="#marker_mg" transform="translate(83.968,50)"/>
    <use xlink:href="#marker_mg" transform="translate(47.605,60)"/>
    <use xlink:href="#marker_mg" transform="translate(78.374,70)"/>
    <use xlink:href="#marker_mg" transform="translate(51.707,80)"/>
    <use xlink:href="#marker_mg" transform="translate(75.237,90)"/>
    <use xlink:href="#marker_mg" transform="translate(54.184,100)"/>
    <use xlink:href="#marker_mg" transform="translate(73.232,110)"/>
    <use xlink:href="#marker_mg" transform="translate(55.840,120)"/>
    <use xlink:href="#marker_mg" transform="translate(71.840,130)"/>
    <use xlink:href="#marker_mg" transform="translate(57.025,140)"/>
    <use xlink:href="#marker_mg" transform="translate(70.819,150)"/>
    <use xlink:href="#marker_mg" transform="translate(57.915,160)"/>
    <use xlink:href="#marker_mg" transform="translate(70.037,170)"/>
    <use xlink:href="#marker_mg" transform="translate(58.608,180)"/>
    <use xlink:href="#marker_mg" transform="translate(69.419,190)"/>
    <use xlink:href="#marker_mg" transform="translate(59.162,200)"/>
    <path d="M 150.000,10 L 16.667,20 L 96.667,30 L 39.524,40 L 83.968,50 L 47.605,60 L 78.374,70 L 51.707,80 L 75.237,90 L 54.184,100 L 73.232,110 L 55.840,120 L 71.840,130 L 57.025,140 L 70.819,150 L 57.915,160 L 70.037,170 L 58.608,180 L 69.419,190 L 59.162,200" stroke-dasharray="0.1,1.5" clip-path="url(#clip_0)"/>
   </g>
   <g stroke="#0000ff">
    <use xlink:href="#marker_ma" transform="translate(96.410,10)"/>
    <use xlink:href="#marker_ma" transform="translate(57.920,20)"/>
    <use xlink:href="#marker_ma" transform="translate(65.618,30)"/>
    <use xlink:href="#marker_ma" transform="translate(63.785,40)"/>
    <use xlink:href="#marker_ma" transform="translate(64.260,50)"/>
    <use xlink:href="#marker_ma" transform="translate(64.131,60)"/>
    <use xlink:href="#marker_ma" transform="translate(64.167,70)"/>
    <use xlink:href="#marker_ma" transform="translate(64.157,80)"/>
    <use xlink:href="#marker_ma" transform="translate(64.160,90)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,100)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,110)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,120)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,130)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,140)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,150)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,160)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,170)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,180)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,190)"/>
    <use xlink:href="#marker_ma" transform="translate(64.159,200)"/>
    <path d="M 96.410,10 L 57.920,20 L 65.618,30 L 63.785,40 L 64.260,50 L 64.131,60 L 64.167,70 L 64.157,80 L 64.160,90 L 64.159,100 L 64.159,110 L 64.159,120 L 64.159,130 L 64.159,140 L 64.159,150 L 64.159,160 L 64.159,170 L 64.159,180 L 64.159,190 L 64.159,200" stroke-dasharray="1,2" clip-path="url(#clip_0)"/>
   </g>
   <g stroke="#009900">
    <use xlink:href="#marker_ne" transform="translate(50.000,10)"/>
    <use xlink:href="#marker_ne" transform="translate(62.500,20)"/>
    <use xlink:href="#marker_ne" transform="translate(63.906,30)"/>
    <use xlink:href="#marker_ne" transform="translate(64.116,40)"/>
    <use xlink:href="#marker_ne" transform="translate(64.151,50)"/>
    <use xlink:href="#marker_ne" transform="translate(64.158,60)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,70)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,80)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,90)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,100)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,110)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,120)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,130)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,140)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,150)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,160)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,170)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,180)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,190)"/>
    <use xlink:href="#marker_ne" transform="translate(64.159,200)"/>
    <path d="M 50.000,10 L 62.500,20 L 63.906,30 L 64.116,40 L 64.151,50 L 64.158,60 L 64.159,70 L 64.159,80 L 64.159,90 L 64.159,100 L 64.159,110 L 64.159,120 L 64.159,130 L 64.159,140 L 64.159,150 L 64.159,160 L 64.159,170 L 64.159,180 L 64.159,190 L 64.159,200" stroke-dasharray="9,2" clip-path="url(#clip_0)"/>
   </g>
   <g stroke="#cc9900">
    <use xlink:href="#marker_ni" transform="translate(50.000,10)"/>
    <use xlink:href="#marker_ni" transform="translate(66.667,20)"/>
    <use xlink:href="#marker_ni" transform="translate(63.333,30)"/>
    <use xlink:href="#marker_ni" transform="translate(64.524,40)"/>
    <use xlink:href="#marker_ni" transform="translate(63.968,50)"/>
    <use xlink:href="#marker_ni" transform="translate(64.271,60)"/>
    <use xlink:href="#marker_ni" transform="translate(64.088,70)"/>
    <use xlink:href="#marker_ni" transform="translate(64.207,80)"/>
    <use xlink:href="#marker_ni" transform="translate(64.125,90)"/>
    <use xlink:href="#marker_ni" transform="translate(64.184,100)"/>
    <use xlink:href="#marker_ni" transform="translate(64.141,110)"/>
    <use xlink:href="#marker_ni" transform="translate(64.174,120)"/>
    <use xlink:href="#marker_ni" transform="translate(64.148,130)"/>
    <use xlink:href="#marker_ni" transform="translate(64.168,140)"/>
    <use xlink:href="#marker_ni" transform="translate(64.152,150)"/>
    <use xlink:href="#marker_ni" transform="translate(64.165,160)"/>
    <use xlink:href="#marker_ni" transform="translate(64.154,170)"/>
    <use xlink:href="#marker_ni" transform="translate(64.164,180)"/>
    <use xlink:href="#marker_ni" transform="translate(64.156,190)"/>
    <use xlink:href="#marker_ni" transform="translate(64.162,200)"/>
    <path d="M 50.000,10 L 66.667,20 L 63.333,30 L 64.524,40 L 63.968,50 L 64.271,60 L 64.088,70 L 64.207,80 L 64.125,90 L 64.184,100 L 64.141,110 L 64.174,120 L 64.148,130 L 64.168,140 L 64.152,150 L 64.165,160 L 64.154,170 L 64.164,180 L 64.156,190 L 64.162,200" stroke-dasharray="1,0" clip-path="url(#clip_0)"/>
   </g>
  </g>
  <g transform="translate(190,0)">
   <use xlink:href="#frame_1" fill="url(#pattern_grid_5)"/>
   <g fill="#000000">
     <use xlink:href="#tick" transform="translate(9,0)"/>
     <text transform="translate(9,-4) scale(0.8,1)" x="0" y="0">3.13</text>
     <use xlink:href="#tick" transform="translate(29,0)"/>
     <text transform="translate(29,-4) scale(0.8,1)" x="0" y="0">3.15</text>
     <use xlink:href="#tick" transform="translate(49,0)"/>
     <text transform="translate(49,-4) scale(0.8,1)" x="0" y="0">3.17</text>
    <text x="24" y="-14" font-style="italic"><tspan>S</tspan><tspan dy="1">n</tspan></text>
    <use xlink:href="#y_labels"/>
   </g>
   <rect x="19.000" y="-2" width="5.000" height="210" rx="3" ry="3" fill="#cccccc"/>
   <path d="M 24.000,5 H 70 m -3,-3 l 3,3 l -3,3" stroke="#666666"/>
   <g stroke="#cc0000">
    <use xlink:href="#marker_vi" transform="translate(1.445,30)"/>
    <use xlink:href="#marker_vi" transform="translate(16.548,40)"/>
    <use xlink:href="#marker_vi" transform="translate(20.331,50)"/>
    <use xlink:href="#marker_vi" transform="translate(21.277,60)"/>
    <use xlink:href="#marker_vi" transform="translate(21.514,70)"/>
    <use xlink:href="#marker_vi" transform="translate(21.573,80)"/>
    <use xlink:href="#marker_vi" transform="translate(21.588,90)"/>
    <use xlink:href="#marker_vi" transform="translate(21.591,100)"/>
    <use xlink:href="#marker_vi" transform="translate(21.592,110)"/>
    <use xlink:href="#marker_vi" transform="translate(21.593,120)"/>
    <use xlink:href="#marker_vi" transform="translate(21.593,130)"/>
    <use xlink:href="#marker_vi" transform="translate(21.593,140)"/>
    <use xlink:href="#marker_vi" transform="translate(21.593,150)"/>
    <use xlink:href="#marker_vi" transform="translate(21.593,160)"/>
    <use xlink:href="#marker_vi" transform="translate(21.593,170)"/>
    <use xlink:href="#marker_vi" transform="translate(21.593,180)"/>
    <use xlink:href="#marker_vi" transform="translate(21.593,190)"/>
    <use xlink:href="#marker_vi" transform="translate(21.593,200)"/>
    <path d="M -291.573,10 L -58.533,20 L 1.445,30 L 16.548,40 L 20.331,50 L 21.277,60 L 21.514,70 L 21.573,80 L 21.588,90 L 21.591,100 L 21.592,110 L 21.593,120 L 21.593,130 L 21.593,140 L 21.593,150 L 21.593,160 L 21.593,170 L 21.593,180 L 21.593,190 L 21.593,200" stroke-dasharray="9,2,1,2" clip-path="url(#clip_1)"/>
   </g>
   <g stroke="#cc00ff">
    <path d="M -453.333,10 L -275.556,20 L -194.286,30 L -147.846,40 L -117.824,50 L -96.830,60 L -81.326,70 L -69.410,80 L -59.965,90 L -52.296,100 L -45.945,110 L -40.599,120 L -36.037,130 L -32.098,140 L -28.663,150 L -25.641,160 L -22.962,170 L -20.571,180 L -18.423,190 L -16.483,200" stroke-dasharray="9,2,1,2,1,2" clip-path="url(#clip_1)"/>
   </g>
   <g stroke="#0099ff">
    <path d="M 880.000,10 L -453.333,20 L 346.667,30 L -224.762,40 L 219.683,50 L -143.954,60 L 163.738,70 L -102.928,80 L 132.366,90 L -78.160,100 L 112.316,110 L -61.597,120 L 98.403,130 L -49.745,140 L 88.186,150 L -40.847,160 L 80.366,170 L -33.920,180 L 74.188,190 L -28.376,200" stroke-dasharray="0.1,1.5" clip-path="url(#clip_1)"/>
   </g>
   <g stroke="#0000ff">
    <use xlink:href="#marker_ma" transform="translate(36.181,30)"/>
    <use xlink:href="#marker_ma" transform="translate(17.853,40)"/>
    <use xlink:href="#marker_ma" transform="translate(22.605,50)"/>
    <use xlink:href="#marker_ma" transform="translate(21.309,60)"/>
    <use xlink:href="#marker_ma" transform="translate(21.674,70)"/>
    <use xlink:href="#marker_ma" transform="translate(21.569,80)"/>
    <use xlink:href="#marker_ma" transform="translate(21.600,90)"/>
    <use xlink:href="#marker_ma" transform="translate(21.591,100)"/>
    <use xlink:href="#marker_ma" transform="translate(21.593,110)"/>
    <use xlink:href="#marker_ma" transform="translate(21.592,120)"/>
    <use xlink:href="#marker_ma" transform="translate(21.593,130)"/>
    <use xlink:href="#marker_ma" transform="translate(21.593,140)"/>
    <use xlink:href="#marker_ma" transform="translate(21.593,150)"/>
    <use xlink:href="#marker_ma" transform="translate(21.593,160)"/>
    <use xlink:href="#marker_ma" transform="translate(21.593,170)"/>
    <use xlink:href="#marker_ma" transform="translate(21.593,180)"/>
    <use xlink:href="#marker_ma" transform="translate(21.593,190)"/>
    <use xlink:href="#marker_ma" transform="translate(21.593,200)"/>
    <path d="M 344.102,10 L -40.799,20 L 36.181,30 L 17.853,40 L 22.605,50 L 21.309,60 L 21.674,70 L 21.569,80 L 21.600,90 L 21.591,100 L 21.593,110 L 21.592,120 L 21.593,130 L 21.593,140 L 21.593,150 L 21.593,160 L 21.593,170 L 21.593,180 L 21.593,190 L 21.593,200" stroke-dasharray="1,2" clip-path="url(#clip_1)"/>
   </g>
   <g stroke="#009900">
    <use xlink:href="#marker_ne" transform="translate(5.000,20)"/>
    <use xlink:href="#marker_ne" transform="translate(19.062,30)"/>
    <use xlink:href="#marker_ne" transform="translate(21.155,40)"/>
    <use xlink:href="#marker_ne" transform="translate(21.511,50)"/>
    <use xlink:href="#marker_ne" transform="translate(21.577,60)"/>
    <use xlink:href="#marker_ne" transform="translate(21.589,70)"/>
    <use xlink:href="#marker_ne" transform="translate(21.592,80)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,90)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,100)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,110)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,120)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,130)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,140)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,150)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,160)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,170)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,180)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,190)"/>
    <use xlink:href="#marker_ne" transform="translate(21.593,200)"/>
    <path d="M -120.000,10 L 5.000,20 L 19.062,30 L 21.155,40 L 21.511,50 L 21.577,60 L 21.589,70 L 21.592,80 L 21.593,90 L 21.593,100 L 21.593,110 L 21.593,120 L 21.593,130 L 21.593,140 L 21.593,150 L 21.593,160 L 21.593,170 L 21.593,180 L 21.593,190 L 21.593,200" stroke-dasharray="9,2" clip-path="url(#clip_1)"/>
   </g>
   <g stroke="#cc9900">
    <use xlink:href="#marker_ni" transform="translate(46.667,20)"/>
    <use xlink:href="#marker_ni" transform="translate(13.333,30)"/>
    <use xlink:href="#marker_ni" transform="translate(25.238,40)"/>
    <use xlink:href="#marker_ni" transform="translate(19.683,50)"/>
    <use xlink:href="#marker_ni" transform="translate(22.713,60)"/>
    <use xlink:href="#marker_ni" transform="translate(20.881,70)"/>
    <use xlink:href="#marker_ni" transform="translate(22.072,80)"/>
    <use xlink:href="#marker_ni" transform="translate(21.255,90)"/>
    <use xlink:href="#marker_ni" transform="translate(21.840,100)"/>
    <use xlink:href="#marker_ni" transform="translate(21.407,110)"/>
    <use xlink:href="#marker_ni" transform="translate(21.736,120)"/>
    <use xlink:href="#marker_ni" transform="translate(21.480,130)"/>
    <use xlink:href="#marker_ni" transform="translate(21.683,140)"/>
    <use xlink:href="#marker_ni" transform="translate(21.519,150)"/>
    <use xlink:href="#marker_ni" transform="translate(21.653,160)"/>
    <use xlink:href="#marker_ni" transform="translate(21.542,170)"/>
    <use xlink:href="#marker_ni" transform="translate(21.635,180)"/>
    <use xlink:href="#marker_ni" transform="translate(21.556,190)"/>
    <use xlink:href="#marker_ni" transform="translate(21.624,200)"/>
    <path d="M -120.000,10 L 46.667,20 L 13.333,30 L 25.238,40 L 19.683,50 L 22.713,60 L 20.881,70 L 22.072,80 L 21.255,90 L 21.840,100 L 21.407,110 L 21.736,120 L 21.480,130 L 21.683,140 L 21.519,150 L 21.653,160 L 21.542,170 L 21.635,180 L 21.556,190 L 21.624,200" stroke-dasharray="1,0" clip-path="url(#clip_1)"/>
   </g>
  </g>
  <g transform="translate(275,0)">
   <use xlink:href="#frame_2" fill="url(#pattern_grid_5)"/>
   <g fill="#000000">
     <use xlink:href="#tick" transform="translate(10,0)"/>
     <text transform="translate(10,-4) scale(0.8,1)" x="0" y="0">3.140</text>
     <use xlink:href="#tick" transform="translate(40,0)"/>
     <text transform="translate(40,-4) scale(0.8,1)" x="0" y="0">3.143</text>
    <text x="25" y="-14" font-style="italic"><tspan>S</tspan><tspan dy="1">n</tspan></text>
    <use xlink:href="#y_labels"/>
   </g>
   <rect x="23.000" y="-2" width="5.000" height="210" rx="3" ry="3" fill="#cccccc"/>
   <path d="M 28.000,5 H 70 m -3,-3 l 3,3 l -3,3" stroke="#666666"/>
   <g stroke="#cc0000">
    <use xlink:href="#marker_vi" transform="translate(13.312,50)"/>
    <use xlink:href="#marker_vi" transform="translate(22.773,60)"/>
    <use xlink:href="#marker_vi" transform="translate(25.138,70)"/>
    <use xlink:href="#marker_vi" transform="translate(25.729,80)"/>
    <use xlink:href="#marker_vi" transform="translate(25.877,90)"/>
    <use xlink:href="#marker_vi" transform="translate(25.914,100)"/>
    <use xlink:href="#marker_vi" transform="translate(25.923,110)"/>
    <use xlink:href="#marker_vi" transform="translate(25.926,120)"/>
    <use xlink:href="#marker_vi" transform="translate(25.926,130)"/>
    <use xlink:href="#marker_vi" transform="translate(25.926,140)"/>
    <use xlink:href="#marker_vi" transform="translate(25.927,150)"/>
    <use xlink:href="#marker_vi" transform="translate(25.927,160)"/>
    <use xlink:href="#marker_vi" transform="translate(25.927,170)"/>
    <use xlink:href="#marker_vi" transform="translate(25.927,180)"/>
    <use xlink:href="#marker_vi" transform="translate(25.927,190)"/>
    <use xlink:href="#marker_vi" transform="translate(25.927,200)"/>
    <path d="M -3105.729,10 L -775.325,20 L -175.548,30 L -24.515,40 L 13.312,50 L 22.773,60 L 25.138,70 L 25.729,80 L 25.877,90 L 25.914,100 L 25.923,110 L 25.926,120 L 25.926,130 L 25.926,140 L 25.927,150 L 25.927,160 L 25.927,170 L 25.927,180 L 25.927,190 L 25.927,200" stroke-dasharray="9,2,1,2" clip-path="url(#clip_2)"/>
   </g>
   <g stroke="#cc00ff">
    <path d="M -4723.333,10 L -2945.556,20 L -2132.857,30 L -1668.458,40 L -1368.240,50 L -1158.298,60 L -1003.264,70 L -884.100,80 L -789.655,90 L -712.962,100 L -649.448,110 L -595.987,120 L -550.366,130 L -510.979,140 L -476.631,150 L -446.413,160 L -419.622,170 L -395.706,180 L -374.227,190 L -354.830,200" stroke-dasharray="9,2,1,2,1,2" clip-path="url(#clip_2)"/>
   </g>
   <g stroke="#0099ff">
    <path d="M 8610.000,10 L -4723.333,20 L 3276.667,30 L -2437.619,40 L 2006.825,50 L -1629.538,60 L 1447.385,70 L -1219.282,80 L 1133.659,90 L -971.604,100 L 933.158,110 L -805.972,120 L 794.028,130 L -687.454,140 L 691.857,150 L -598.466,160 L 613.655,170 L -529.202,180 L 551.879,190 L -473.762,200" stroke-dasharray="0.1,1.5" clip-path="url(#clip_2)"/>
   </g>
   <g stroke="#0000ff">
    <use xlink:href="#marker_ma" transform="translate(36.047,50)"/>
    <use xlink:href="#marker_ma" transform="translate(23.088,60)"/>
    <use xlink:href="#marker_ma" transform="translate(26.743,70)"/>
    <use xlink:href="#marker_ma" transform="translate(25.687,80)"/>
    <use xlink:href="#marker_ma" transform="translate(25.998,90)"/>
    <use xlink:href="#marker_ma" transform="translate(25.905,100)"/>
    <use xlink:href="#marker_ma" transform="translate(25.933,110)"/>
    <use xlink:href="#marker_ma" transform="translate(25.925,120)"/>
    <use xlink:href="#marker_ma" transform="translate(25.927,130)"/>
    <use xlink:href="#marker_ma" transform="translate(25.926,140)"/>
    <use xlink:href="#marker_ma" transform="translate(25.927,150)"/>
    <use xlink:href="#marker_ma" transform="translate(25.927,160)"/>
    <use xlink:href="#marker_ma" transform="translate(25.927,170)"/>
    <use xlink:href="#marker_ma" transform="translate(25.927,180)"/>
    <use xlink:href="#marker_ma" transform="translate(25.927,190)"/>
    <use xlink:href="#marker_ma" transform="translate(25.927,200)"/>
    <path d="M 3251.016,10 L -597.986,20 L 171.815,30 L -11.471,40 L 36.047,50 L 23.088,60 L 26.743,70 L 25.687,80 L 25.998,90 L 25.905,100 L 25.933,110 L 25.925,120 L 25.927,130 L 25.926,140 L 25.927,150 L 25.927,160 L 25.927,170 L 25.927,180 L 25.927,190 L 25.927,200" stroke-dasharray="1,2" clip-path="url(#clip_2)"/>
   </g>
   <g stroke="#009900">
    <use xlink:href="#marker_ne" transform="translate(0.625,30)"/>
    <use xlink:href="#marker_ne" transform="translate(21.551,40)"/>
    <use xlink:href="#marker_ne" transform="translate(25.112,50)"/>
    <use xlink:href="#marker_ne" transform="translate(25.767,60)"/>
    <use xlink:href="#marker_ne" transform="translate(25.894,70)"/>
    <use xlink:href="#marker_ne" transform="translate(25.920,80)"/>
    <use xlink:href="#marker_ne" transform="translate(25.925,90)"/>
    <use xlink:href="#marker_ne" transform="translate(25.926,100)"/>
    <use xlink:href="#marker_ne" transform="translate(25.926,110)"/>
    <use xlink:href="#marker_ne" transform="translate(25.927,120)"/>
    <use xlink:href="#marker_ne" transform="translate(25.927,130)"/>
    <use xlink:href="#marker_ne" transform="translate(25.927,140)"/>
    <use xlink:href="#marker_ne" transform="translate(25.927,150)"/>
    <use xlink:href="#marker_ne" transform="translate(25.927,160)"/>
    <use xlink:href="#marker_ne" transform="translate(25.927,170)"/>
    <use xlink:href="#marker_ne" transform="translate(25.927,180)"/>
    <use xlink:href="#marker_ne" transform="translate(25.927,190)"/>
    <use xlink:href="#marker_ne" transform="translate(25.927,200)"/>
    <path d="M -1390.000,10 L -140.000,20 L 0.625,30 L 21.551,40 L 25.112,50 L 25.767,60 L 25.894,70 L 25.920,80 L 25.925,90 L 25.926,100 L 25.926,110 L 25.927,120 L 25.927,130 L 25.927,140 L 25.927,150 L 25.927,160 L 25.927,170 L 25.927,180 L 25.927,190 L 25.927,200" stroke-dasharray="9,2" clip-path="url(#clip_2)"/>
   </g>
   <g stroke="#cc9900">
    <use xlink:href="#marker_ni" transform="translate(6.825,50)"/>
    <use xlink:href="#marker_ni" transform="translate(37.128,60)"/>
    <use xlink:href="#marker_ni" transform="translate(18.813,70)"/>
    <use xlink:href="#marker_ni" transform="translate(30.718,80)"/>
    <use xlink:href="#marker_ni" transform="translate(22.548,90)"/>
    <use xlink:href="#marker_ni" transform="translate(28.396,100)"/>
    <use xlink:href="#marker_ni" transform="translate(24.067,110)"/>
    <use xlink:href="#marker_ni" transform="translate(27.361,120)"/>
    <use xlink:href="#marker_ni" transform="translate(24.797,130)"/>
    <use xlink:href="#marker_ni" transform="translate(26.832,140)"/>
    <use xlink:href="#marker_ni" transform="translate(25.190,150)"/>
    <use xlink:href="#marker_ni" transform="translate(26.534,160)"/>
    <use xlink:href="#marker_ni" transform="translate(25.420,170)"/>
    <use xlink:href="#marker_ni" transform="translate(26.354,180)"/>
    <use xlink:href="#marker_ni" transform="translate(25.563,190)"/>
    <use xlink:href="#marker_ni" transform="translate(26.238,200)"/>
    <path d="M -1390.000,10 L 276.667,20 L -56.667,30 L 62.381,40 L 6.825,50 L 37.128,60 L 18.813,70 L 30.718,80 L 22.548,90 L 28.396,100 L 24.067,110 L 27.361,120 L 24.797,130 L 26.832,140 L 25.190,150 L 26.534,160 L 25.420,170 L 26.354,180 L 25.563,190 L 26.238,200" stroke-dasharray="1,0" clip-path="url(#clip_2)"/>
   </g>
  </g>
  <g transform="translate(360,0)">
   <use xlink:href="#frame_3" fill="url(#pattern_grid_5)"/>
   <g fill="#000000">
     <use xlink:href="#tick" transform="translate(19,0)"/>
     <text transform="translate(19,-4) scale(0.8,1)" x="0" y="0">3.1415</text>
     <use xlink:href="#tick" transform="translate(50,0)"/>
     <text transform="translate(50,-4) scale(0.8,1)" x="0" y="0">3.1418</text>
    <text x="24" y="-14" font-style="italic"><tspan>S</tspan><tspan dy="1">n</tspan></text>
    <use xlink:href="#y_labels"/>
   </g>
   <g stroke="#cc0000">
    <use xlink:href="#marker_vi" transform="translate(21.380,70)"/>
    <use xlink:href="#marker_vi" transform="translate(27.294,80)"/>
    <use xlink:href="#marker_vi" transform="translate(28.773,90)"/>
    <use xlink:href="#marker_vi" transform="translate(29.142,100)"/>
    <use xlink:href="#marker_vi" transform="translate(29.235,110)"/>
    <use xlink:href="#marker_vi" transform="translate(29.258,120)"/>
    <use xlink:href="#marker_vi" transform="translate(29.263,130)"/>
    <use xlink:href="#marker_vi" transform="translate(29.265,140)"/>
    <use xlink:href="#marker_vi" transform="translate(29.265,150)"/>
    <use xlink:href="#marker_vi" transform="translate(29.265,160)"/>
    <use xlink:href="#marker_vi" transform="translate(29.265,170)"/>
    <use xlink:href="#marker_vi" transform="translate(29.265,180)"/>
    <use xlink:href="#marker_vi" transform="translate(29.265,190)"/>
    <use xlink:href="#marker_vi" transform="translate(29.265,200)"/>
    <path d="M -31287.288,10 L -7983.254,20 L -1985.485,30 L -475.151,40 L -96.884,50 L -2.275,60 L 21.380,70 L 27.294,80 L 28.773,90 L 29.142,100 L 29.235,110 L 29.258,120 L 29.263,130 L 29.265,140 L 29.265,150 L 29.265,160 L 29.265,170 L 29.265,180 L 29.265,190 L 29.265,200" stroke-dasharray="9,2,1,2" clip-path="url(#clip_3)"/>
   </g>
   <g stroke="#cc00ff">
    <path d="M -47463.333,10 L -29685.556,20 L -21558.571,30 L -16914.580,40 L -13912.405,50 L -11812.981,60 L -10262.637,70 L -9071.000,80 L -8126.545,90 L -7359.619,100 L -6724.484,110 L -6189.866,120 L -5733.658,130 L -5339.793,140 L -4996.311,150 L -4694.128,160 L -4426.218,170 L -4187.064,180 L -3972.274,190 L -3778.304,200" stroke-dasharray="9,2,1,2,1,2" clip-path="url(#clip_3)"/>
   </g>
   <g stroke="#0099ff">
    <path d="M 85870.000,10 L -47463.333,20 L 32536.667,30 L -24606.190,40 L 19838.254,50 L -16525.382,60 L 14243.848,70 L -12422.818,80 L 11106.593,90 L -9946.038,100 L 9101.581,110 L -8289.723,120 L 7710.277,130 L -7104.538,140 L 6688.565,150 L -6214.661,160 L 5906.552,170 L -5522.020,180 L 5288.791,190 L -4967.619,200" stroke-dasharray="0.1,1.5" clip-path="url(#clip_3)"/>
   </g>
   <g stroke="#0000ff">
    <use xlink:href="#marker_ma" transform="translate(0.879,60)"/>
    <use xlink:href="#marker_ma" transform="translate(37.431,70)"/>
    <use xlink:href="#marker_ma" transform="translate(26.872,80)"/>
    <use xlink:href="#marker_ma" transform="translate(29.977,90)"/>
    <use xlink:href="#marker_ma" transform="translate(29.051,100)"/>
    <use xlink:href="#marker_ma" transform="translate(29.330,110)"/>
    <use xlink:href="#marker_ma" transform="translate(29.245,120)"/>
    <use xlink:href="#marker_ma" transform="translate(29.272,130)"/>
    <use xlink:href="#marker_ma" transform="translate(29.263,140)"/>
    <use xlink:href="#marker_ma" transform="translate(29.266,150)"/>
    <use xlink:href="#marker_ma" transform="translate(29.265,160)"/>
    <use xlink:href="#marker_ma" transform="translate(29.265,170)"/>
    <use xlink:href="#marker_ma" transform="translate(29.265,180)"/>
    <use xlink:href="#marker_ma" transform="translate(29.265,190)"/>
    <use xlink:href="#marker_ma" transform="translate(29.265,200)"/>
    <path d="M 32280.162,10 L -6209.856,20 L 1488.147,30 L -344.711,40 L 130.475,50 L 0.879,60 L 37.431,70 L 26.872,80 L 29.977,90 L 29.051,100 L 29.330,110 L 29.245,120 L 29.272,130 L 29.263,140 L 29.266,150 L 29.265,160 L 29.265,170 L 29.265,180 L 29.265,190 L 29.265,200" stroke-dasharray="1,2" clip-path="url(#clip_3)"/>
   </g>
   <g stroke="#009900">
    <use xlink:href="#marker_ne" transform="translate(21.117,50)"/>
    <use xlink:href="#marker_ne" transform="translate(27.672,60)"/>
    <use xlink:href="#marker_ne" transform="translate(28.943,70)"/>
    <use xlink:href="#marker_ne" transform="translate(29.198,80)"/>
    <use xlink:href="#marker_ne" transform="translate(29.251,90)"/>
    <use xlink:href="#marker_ne" transform="translate(29.262,100)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,110)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,120)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,130)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,140)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,150)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,160)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,170)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,180)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,190)"/>
    <use xlink:href="#marker_ne" transform="translate(29.265,200)"/>
    <path d="M -14130.000,10 L -1630.000,20 L -223.750,30 L -14.487,40 L 21.117,50 L 27.672,60 L 28.943,70 L 29.198,80 L 29.251,90 L 29.262,100 L 29.265,110 L 29.265,120 L 29.265,130 L 29.265,140 L 29.265,150 L 29.265,160 L 29.265,170 L 29.265,180 L 29.265,190 L 29.265,200" stroke-dasharray="9,2" clip-path="url(#clip_3)"/>
   </g>
   <g stroke="#cc9900">
    <use xlink:href="#marker_ni" transform="translate(10.672,110)"/>
    <use xlink:href="#marker_ni" transform="translate(43.610,120)"/>
    <use xlink:href="#marker_ni" transform="translate(17.969,130)"/>
    <use xlink:href="#marker_ni" transform="translate(38.319,140)"/>
    <use xlink:href="#marker_ni" transform="translate(21.899,150)"/>
    <use xlink:href="#marker_ni" transform="translate(35.339,160)"/>
    <use xlink:href="#marker_ni" transform="translate(24.199,170)"/>
    <use xlink:href="#marker_ni" transform="translate(33.536,180)"/>
    <use xlink:href="#marker_ni" transform="translate(25.633,190)"/>
    <use xlink:href="#marker_ni" transform="translate(32.381,200)"/>
    <path d="M -14130.000,10 L 2536.667,20 L -796.667,30 L 393.810,40 L -161.746,50 L 141.284,60 L -41.866,70 L 77.182,80 L -4.518,90 L 53.962,100 L 10.672,110 L 43.610,120 L 17.969,130 L 38.319,140 L 21.899,150 L 35.339,160 L 24.199,170 L 33.536,180 L 25.633,190 L 32.381,200" stroke-dasharray="1,0" clip-path="url(#clip_3)"/>
   </g>
  </g>
  <g id="legend" transform="translate(97,65)" text-anchor="start">
   <rect x="-7" y="-10" width="70" height="140" stroke="#000000" fill="#ffffff"/>
   <g transform="translate(0,0)" stroke="#cc0000">
    <path d="M 0,-9 V 9" stroke-dasharray="9,2,1,2"/>
    <use xlink:href="#marker_vi"/>
    <text x="6" y="4" stroke="none" fill="#000000"><tspan>Vi&#232;te</tspan></text>
   </g>
   <g transform="translate(0,20)" stroke="#cc00ff">
    <path d="M 0,-9 V 9" stroke-dasharray="9,2,1,2,1,2"/>
    <use xlink:href="#marker_wa"/>
    <text x="6" y="4" stroke="none" fill="#000000"><tspan>Wallis</tspan></text>
   </g>
   <g transform="translate(0,40)" stroke="#0099ff">
    <path d="M 0,-9 V 9" stroke-dasharray="0.1,1.5"/>
    <use xlink:href="#marker_mg"/>
    <text x="6" y="4" stroke="none" fill="#000000"><tspan>Madhava-</tspan><tspan x="6" dy="10">Gregory-</tspan><tspan x="6" dy="10">Leibniz</tspan></text>
   </g>
   <g transform="translate(0,80)" stroke="#0000ff">
    <path d="M 0,-9 V 9" stroke-dasharray="1,2"/>
    <use xlink:href="#marker_ma"/>
    <text x="6" y="4" stroke="none" fill="#000000"><tspan>Madhava</tspan></text>
   </g>
   <g transform="translate(0,100)" stroke="#009900">
    <path d="M 0,-9 V 9" stroke-dasharray="9,2"/>
    <use xlink:href="#marker_ne"/>
    <text x="6" y="4" stroke="none" fill="#000000"><tspan>Newton</tspan></text>
   </g>
   <g transform="translate(0,120)" stroke="#cc9900">
    <path d="M 0,-9 V 9" stroke-dasharray="1,0"/>
    <use xlink:href="#marker_ni"/>
    <text x="6" y="4" stroke="none" fill="#000000"><tspan>Nilakantha</tspan></text>
   </g>
  </g>
 </g>
</svg>

<!-- Python script to create above; please do not remove.

import math
import re

n_term  = 20
y_scale = 10

def wallis(r):
 square = (2 * (r + 1)) ** 2
 return square / (square - 1.0) * (1 if r > 0 else 2)

def viete(r):
 denom = 0
 for i_term in range(r + 1):
  denom = math.sqrt(2 + denom)
 return (2 if r > 0 else 4) / denom

def newton(r):
 exponent = 2 * r + 1
 product = 0.5 ** exponent / exponent
 for i in range(1, r + 1):
  product *= (2.0 * i - 1) / (2 * i)
 return 6 * product

def nilakantha(r):
 if (r == 0):
  return 3
 else:
  return -4.0 * (-1) ** r / ((2 * r) * (2 * r + 1) * (2 * r + 2))

plots = ( # type: 0 = sum, 1 = product
 {'offset':0  ,'x_scale':100     ,'x_min':2.5    ,'x_max':4.05    ,'x_start':2.6    ,'x_inc':0.2     },
 {'offset':190,'x_scale':1000    ,'x_min':3.12   ,'x_max':3.17    ,'x_start':3.13   ,'x_inc':0.02    },
 {'offset':275,'x_scale':10000   ,'x_min':3.139  ,'x_max':3.144   ,'x_start':3.14   ,'x_inc':0.003   },
 {'offset':360,'x_scale':100000  ,'x_min':3.1413 ,'x_max':3.1418  ,'x_start':3.1415 ,'x_inc':0.0003  },
#{'offset':445,'x_scale':1000000 ,'x_min':3.14156,'x_max':3.14161 ,'x_start':3.14156,'x_inc':0.00004 },
#{'offset':525,'x_scale':10000000,'x_min':3.14159,'x_max':3.141595,'x_start':3.14159,'x_inc':0.000005},
 )
graphs = (
 {'id':'vi','label':'Vi&#232;te'                 ,'stroke':'#cc0000','da':'9,2,1,2'    ,'type':1,'term':(lambda r: viete(r))},
 {'id':'wa','label':'Wallis'                     ,'stroke':'#cc00ff','da':'9,2,1,2,1,2','type':1,'term':(lambda r: wallis(r))},
 {'id':'mg','label':'Madhava-\nGregory-\nLeibniz','stroke':'#0099ff','da':'0.1,1.5'    ,'type':0,'term':(lambda r: 4.0 * (-1) ** r / (r * 2 + 1))},
 {'id':'ma','label':'Madhava'                    ,'stroke':'#0000ff','da':'1,2'        ,'type':0,'term':(lambda r: math.sqrt(12) * ((-1.0 / 3) ** r / (2 * r + 1)))},
 {'id':'ne','label':'Newton'                     ,'stroke':'#009900','da':'9,2'        ,'type':0,'term':(lambda r: newton(r))},
 {'id':'ni','label':'Nilakantha'                 ,'stroke':'#cc9900','da':'1,0'        ,'type':0,'term':(lambda r: nilakantha(r))},
 )
out_defs    = []
out_graphs  = []
out_legends = []

# Plots
for i_plot in range(len(plots)):
 plot = plots[i_plot]
 offset  = plot['offset']
 x_scale = plot['x_scale']
 x_min   = plot['x_min']
 x_max   = plot['x_max']
 x_inc   = plot['x_inc']
 dp = len(str(int(1 / x_inc)))
 format = '''%%.%df''' % dp
 out_x_labels = []
 x = plot['x_start']
 while (x <= x_max + 1e-9):
  x_label = format % x
  out_x_labels.append('''
     <use xlink:href="#tick" transform="translate(%d,0)"/>
     <text transform="translate(%d,-4) scale(0.8,1)" x="0" y="0">%s</text>''' % ((x - x_min) * x_scale, (x - x_min) * x_scale, x_label))
  x += x_inc
 width = (x_max - x_min) * x_scale
 height = n_term * y_scale
 out_defs.append('''
  <rect id="frame_%d" x="0" y="0" width="%d" height="%d"/>
  <clipPath id="clip_%d"><use xlink:href="#frame_%d"/></clipPath>''' % (
  i_plot, width, height, i_plot, i_plot))
 out_graphs.append('''
  <g transform="translate(%d,0)">
   <use xlink:href="#frame_%d" fill="url(#pattern_grid_5)"/>
   <g fill="#000000">
%s
    <text x="%d" y="-14" font-style="italic"><tspan>S</tspan><tspan dy="1">n</tspan></text>
    <use xlink:href="#y_labels"/>
   </g>''' % (offset, i_plot, ''.join(out_x_labels).lstrip('\n'), width / 2))
 if (i_plot < len(plots) - 1):
  plot_next = plots[i_plot + 1]
  plot_next_x_min = plot_next['x_min']
  plot_next_x_max = plot_next['x_max']
  out_graphs.append('''
   <rect x="%.3f" y="%d" width="%.3f" height="%d" rx="3" ry="3" fill="#cccccc"/>
   <path d="M %.3f,5 H %d m -3,-3 l 3,3 l -3,3" stroke="#666666"/>''' % (
   (plot_next_x_min - x_min) * x_scale, -2, (plot_next_x_max - plot_next_x_min) * x_scale, height + 10,
   (plot_next_x_max - x_min) * x_scale, plot_next['offset'] - offset - 15))
 for i_graph in range(len(graphs)):
  graph  = graphs[i_graph]
  type   = graph['type']
  approx = 0 if type == 0 else 1
  paths  = []
  print("plot %d\tgraph %s" % (i_plot, re.sub(r'\n', r'|', graph['label'])))
  out_graphs.append('''
   <g stroke="%s">''' % graph['stroke'])
  for i_term in range(n_term):
   term = graph['term'](i_term)
   if (type == 0):
    approx += term
   else:
    approx *= term
   point = "%.3f,%d" % ((approx - x_min) * x_scale, (i_term + 1) * y_scale)
   # print("%d\t%s\t%d\t%f\t%f" % (i_plot, graph['id'], i_term, term, approx))
   paths.append(point)
   if (approx >= x_min and approx <= x_max):
    out_graphs.append('''
    <use xlink:href="#marker_%s" transform="translate(%s)"/>''' % (graph['id'], point))
  out_graphs.append('''
    <path d="M %s" stroke-dasharray="%s" clip-path="url(#clip_%s)"/>
   </g>''' % (' L '.join(paths), graph['da'], i_plot))
 out_graphs.append('''
  </g>''')

# Y-axis labels
out_defs.append('''
  <g id="y_labels" transform="translate(-9,3)">''')
for i_term in range(2, n_term + 1, 2):
 out_defs.append('''
   <text x="0" y="%d">%d</text>''' % (i_term * y_scale, i_term))
out_defs.append('''
   <text x="-13" y="%d" font-style="italic">n</text>
  </g>''' % ((n_term / 2 + 1) * y_scale))

# Legend
y_legend = 0
for i_graph in range(len(graphs)):
 graph = graphs[i_graph]
 label = graph['label']
 out_legends.append('''
   <g transform="translate(0,%d)" stroke="%s">
    <path d="M 0,-9 V 9" stroke-dasharray="%s"/>
    <use xlink:href="#marker_%s"/>
    <text x="6" y="4" stroke="none" fill="#000000"><tspan>%s</tspan></text>
   </g>''' % (y_legend, graph['stroke'], graph['da'], graph['id'],
              re.sub(r'\n', r'</tspan><tspan x="6" dy="10">', label)))
 y_legend += 20 + 10 * label.count('\n')

double_dash = '-' + '-' # because SVG comments cannot have 2 consecutive '-'s
myself   = open(__file__, 'r').read() # the content of this very file
file_out = open(__file__[:__file__.rfind('.')] + '.svg', 'w') # *.* -> *.svg
try: # use try/finally so that file is still closed in case any write fails
 file_out.write('''<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%%" height="100%%" viewBox="-28 -22 456 228">
 <title>comparison pi infinite series</title>
 <desc>Comparison of the convergence of several historical infinite series for pi, by CMG Lee. ''Sn'' is the approximation of after taking ''n'' terms. Each subsequent subplot is horizontally magnifies the shaded area by 10 times. The lines merely connect points of each series; there are no intermediate values between terms.</desc>
 <defs>
  <pattern id="pattern_grid_1" patternUnits="userSpaceOnUse" width="10" height="10">
   <rect x="0" y="0" width="10" height="10" stroke="#cccccc" stroke-width="0.5" fill="none"/>
  </pattern>
  <pattern id="pattern_grid_5" patternUnits="userSpaceOnUse" width="50" height="50">
   <rect x="0" y="0" width="50" height="50" stroke="#999999" stroke-width="0.5" fill="url(#pattern_grid_1)"/>
  </pattern>
%s
  <path id="tick" d="M 0,-3 V 0" stroke="#cccccc"/>
  <path id="marker_vi" d="M -3,-3 L 3,3 M -3,3 L 3,-3"/>
  <path id="marker_wa" d="M -3,0 H 3 M -2,-3 L 2,3 M -2,3 L 2,-3"/>
  <path id="marker_ma" d="M 0,-3 L 3,2 H -3 Z"/>
  <path id="marker_ne" d="M 0,3 L 3,-2 H -3 Z"/>
  <rect id="marker_mg" x="-2" y="-2" width="4" height="4"/>
  <circle id="marker_ni" cx="0" cy="0" r="3"/>
 </defs>
 <g font-family="sans-serif" font-size="10" text-anchor="middle" stroke-linejoin="round" stroke-linecap="round" stroke="none" fill="none">
  <rect x="-4999" y="-4999" width="9999" height="9999" fill="#ffffff"/>
%s
  <g id="legend" transform="translate(97,65)" text-anchor="start">
   <rect x="-7" y="-10" width="70" height="140" stroke="#000000" fill="#ffffff"/>
%s
  </g>
 </g>
</svg>

<!%s Python script to create above; please do not remove.

%s
# %s>
''' % (''.join(out_defs).lstrip('\n'), ''.join(out_graphs).lstrip('\n'), ''.join(out_legends).lstrip('\n'),
       double_dash, myself, double_dash))
finally:
 file_out.close()

# -->
